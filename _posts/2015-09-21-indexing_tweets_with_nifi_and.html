---
layout: post
status: PUBLISHED
published: true
title: Indexing Tweets with NiFi and Solr
author:
  display_name: Bryan Bende
  login: bbende
  email: bbende@apache.org
author_login: bbende
author_email: bbende@apache.org
id: 072c99f3-796a-4e31-a6e3-94b2de3b08e7
date: '2015-09-21 16:35:09 -0400'
categories:
- Dataflow
tags:
- indexing
- twitter
- solr
comments:
- id: 0
  author: Santosh
  author_email: santosh.nalubandhu@capitalone.com
  author_url: ''
  date: '2016-12-22 15:12:55 -0500'
  content: Thank you Bryan. I will look into the documentation. I need to publish
    TCP events to 500 browser clients without delay. any design inputs are highly
    appreciated.
- id: 0
  author: Bryan
  author_email: bbende@gmail.com
  author_url: ''
  date: '2015-11-11 22:21:28 -0500'
  content: "Thank you for the feedback. NiFi is definitely a production ready application.
    Although the version number is fairly low (0.3.0), it was worked on for almost
    9 years prior to becoming an open-source project, and chose to start with 0.0.1
    when open-sourcing. As far as enterprise schedulers, if you are referring to things
    like YARN and MESOS, there hasn't been any integration thus far. NiFi is not always
    intended to be deployed in a core data-center where one of these schedulers would
    live. Many times NiFi would be deployed closer to the sources of data and ship
    data back to the central data center. In these cases NiFi can't rely on these
    kinds of schedulers. Currently, multiple developers can work in isolation on their
    own instances and share templates of their flows. Templates can then be deployed
    to other shared instances. There are some future improvements around this area
    described here:\r\nhttps://cwiki.apache.org/confluence/display/NIFI/Multi-Tentant+Dataflow\r\nhttps://cwiki.apache.org/confluence/display/NIFI/Configuration+Management+of+Flows\r\nhttps://cwiki.apache.org/confluence/display/NIFI/Extension+and+Template+Registry\r\n"
- id: 0
  author: Bryan
  author_email: bbende@gmail.com
  author_url: ''
  date: '2015-11-11 22:22:54 -0500'
  content: Thank you for the feedback. NiFi is definitely a production ready application.
    Although the version number is fairly low (0.3.0), it was worked on for almost
    9 years prior to becoming an open-source project, and chose to start with 0.0.1
    when open-sourcing. So Apache NiFi version 0.0.1 was years of development :)
- id: 0
  author: Bryan
  author_email: bbende@gmail.com
  author_url: ''
  date: '2015-11-11 22:23:43 -0500'
  content: "Currently, multiple developers can work in isolation on their own NiFi
    instances and share templates of their flows. Templates can then be deployed to
    other shared instances, such as test or production instances. There are some future
    improvements around this are which can be read about here:\r\nhttps://cwiki.apache.org/confluence/display/NIFI/Multi-Tentant+Dataflow\r\nhttps://cwiki.apache.org/confluence/display/NIFI/Configuration+Management+of+Flows\r\nhttps://cwiki.apache.org/confluence/display/NIFI/Extension+and+Template+Registry"
- id: 0
  author: hkgu
  author_email: gt@com.gmail
  author_url: http://javatpoint.com
  date: '2017-10-27 04:10:43 -0400'
  content: hi java gyse.......
- id: 0
  author: Bryan
  author_email: bbende@gmail.com
  author_url: ''
  date: '2016-02-12 14:32:37 -0500'
  content: "Lobo, I'm not sure I understand the question... the properties you mentioned
    (Indexed, Stored, Required, etc.) are properties that you would define in your
    solr schema.xml, they are not passed to Solr when indexing.\r\n\r\nIn this example,
    the fields it is indexing are id, twitter_text_t, twitter_username_s, twitter_created_at_s,
    twitter_created_at_ms_tl. \r\n\r\nThis example was relying on Solr to automatically
    create those fields upon indexing, but if you wanted to control the values you
    mentioned then you would need to define those fields in your schema.xml ahead
    of time."
- id: 0
  author: Sharath
  author_email: pappulasharath@gmail.com`
  author_url: ''
  date: '2016-02-24 05:20:39 -0500'
  content: "Can anyone please help me how to move files from hdfs location into solr?\r\n\r\nPlease
    let  tell me which processors needs to be used here..\r\n\r\nHDFS files---->Solr
    \  using Nifi......"
- id: 0
  author: SHIVADEEP GUNDOJU
  author_email: shivadeep_deep@yahoo.com
  author_url: ''
  date: '2016-07-20 14:09:29 -0400'
  content: "Thank you so much bryan.\r\nwhen I change the filed name to _dt i am getting
    error\"Invalid date string\"\r\n\r\nI understood the date format which we are
    getting from twitter is different from format solr can accept. \r\n\r\nCould you
    please help me to resolve pleaseeeeeeee\r\n\r\n\r\nPlease help\r\n\r\n  "
- id: 0
  author: SHIVADEEP GUNDOJU
  author_email: shivadeep_deep@yahoo.com
  author_url: ''
  date: '2016-07-20 14:34:20 -0400'
  content: "I have added \r\n<str>EEE MMM d HH:mm:ss Z yyyy</str>\r\n\r\nin solrconfig.xml\r\nstring
    in the tweet looks like\r\n\"Mon Jul 04 08:23:48 +0000 2016\"\r\n\r\nPlease help"
- id: 0
  author: vijay bhan
  author_email: vijaypatel39517@gmail.com
  author_url: https://www.computergs.in
  date: '2019-12-17 14:00:20 -0500'
  content: <a href="https://www.computergs.in/2019/12/full-form-of-adca-adca-full-form-what.html">
    Plaese tell me sir why a computer teacher not become a programmer why they only
    teach not earn more money</a>
- id: 0
  author: Interview Questions
  author_email: sharadtricks@yahoo.com
  author_url: https://www.onlineinterviewquestions.com/
  date: '2019-03-18 22:42:19 -0400'
  content: Nice Tutorial, so learnable
- id: 0
  author: pooja
  author_email: pooja89330@gmail.com
  author_url: https://compitionpoint.com/2018/06/01/multidimensional-arrays/
  date: '2019-01-20 10:11:30 -0500'
  content: It is very helpful article.so <a href="https://compitionpoint.com/2018/06/01/bitwise-operators/">Thanks!</a>
- id: 0
  author: Pubg Names
  author_email: loffarmail@gmail.com
  author_url: https://www.groupsfor.com/2019/10/pubg-names.html
  date: '2019-12-30 15:03:04 -0500'
  content: "Great article you have published here.\r\n"
- id: 0
  author: download mp4 movies
  author_email: hindidubbedmovies.org@gmail.com
  author_url: http://hindidubbedmovies.org
  date: '2019-11-24 14:24:42 -0500'
  content: nice post thanks for it such  a great post
- id: 0
  author: apache ant
  author_email: ms25291@gmail.com
  author_url: https://www.javatpoint.com/apache-ant-tutorial
  date: '2019-12-19 11:03:37 -0500'
  content: thanks for share nice article on apache.
- id: 0
  author: Narendra Mishra
  author_email: khojohindime@gmail.com
  author_url: https://khojohindime.com/
  date: '2019-05-22 14:33:19 -0400'
  content: "Great post!!! Its really useful information \r\nthanks for sharing great
    information "
- id: 0
  author: Apache Tutorials
  author_email: tutorialsmate@gmail.com
  author_url: https://www.tutorialsmate.com/p/frameworks.html
  date: '2020-01-08 15:57:13 -0500'
  content: "This is such a great article with a piece of useful information.\r\nI
    also found one other website listing all the Apache Tutorials in a single page.
    Real More: https://www.tutorialsmate.com/p/frameworks.html"
- id: 0
  author: hindi shayari
  author_email: letestphone.com@gmail.com
  author_url: https://www.shayarify.co/
  date: '2020-01-09 09:21:14 -0500'
  content: love shayari in hindi
- id: 0
  author: sms full form
  author_email: letestphone.com@gmail.com
  author_url: https://www.whatsappg.com/2020/01/full-form-of-sms.html
  date: '2020-01-09 09:12:05 -0500'
  content: very nice post
- id: 0
  author: intermediate results 2020
  author_email: interresults2020@gmail.com
  author_url: https://www.interresults2020.com/intermediate-exam-time-table-2020
  date: '2020-02-04 18:19:31 -0500'
  content: "Nice Information\r\n"
- id: 0
  author: saavitage1970
  author_email: pogtelijob1985@gmail.com
  author_url: https://blogs.apache.org/click/entry/netbeans_plugin_released
  date: '2019-07-20 17:57:19 -0400'
  content: 'Fresh art, congratulations! '
- id: 0
  author: reinubbveno1979
  author_email: bensrelinkvez1978@gmail.com
  author_url: https://blogs.apache.org/openmeetings/entry/openmeetings_on_the_road_to
  date: '2019-07-20 23:35:16 -0400'
  content: Cool!!! Wow! Super Benoit as always!
- id: 0
  author: grotticoro1977
  author_email: neodentheidi1985@gmail.com
  author_url: https://blogs.apache.org/openmeetings/entry/apache_openmeetings_2_0_incubating
  date: '2019-07-21 01:29:04 -0400'
  content: Great work, liking the colour choices! Awwwwwwwwwwwwwwesome!!!
- id: 0
  author: sainofapod1972
  author_email: toreavolfa1987@gmail.com
  author_url: https://blogs.apache.org/hama/entry/how_will_hama_bsp_different
  date: '2019-07-21 03:09:33 -0400'
  content: nice renders cool～
- id: 0
  author: niafedabla1976
  author_email: partholdtnorin1974@gmail.com
  author_url: https://blogs.apache.org/trafficserver/entry/apache_traffic_server_v3_2
  date: '2019-07-21 04:52:55 -0400'
  content: masterpiece! pretty good in detail Great style, fascinated by insects!
- id: 0
  author: zadalyno1983
  author_email: pliclaywestcar1975@gmail.com
  author_url: https://blogs.apache.org/openmeetings/entry/apache_openmeetings_2_0_incubating
  date: '2019-07-21 05:25:11 -0400'
  content: I think the proportions are very interesting. Great work! Breathtaking
    work! Congratulations!
- id: 0
  author: terfestpado1988
  author_email: browunerster1985@gmail.com
  author_url: https://blogs.apache.org/couchdb/entry/couchdb_weekly_news_april_3
  date: '2019-07-21 06:06:09 -0400'
  content: cute color combination & modeling... Elegant work + + +
- id: 0
  author: preseblyudio1987
  author_email: penddevelby1988@gmail.com
  author_url: https://blogs.apache.org/couchdb/entry/board_report_november_2013
  date: '2019-07-21 07:43:42 -0400'
  content: doif is so cute. Thanks a lot @Joana Fernandes @Yagnesh P @Sergey Stepanov
    @Yasushi Muraki
- id: 0
  author: sturlitece1983
  author_email: dysprosbevo1976@gmail.com
  author_url: https://blogs.apache.org/couchdb/entry/apache_couchdb_1_2_1
  date: '2019-07-21 10:26:12 -0400'
  content: When and where can we get this? Do you deliver to India? Woow very nice!
- id: 0
  author: backvorcardtern1983
  author_email: theililyhigh1987@gmail.com
  author_url: https://blogs.apache.org/click/entry/apache_click_v2_3_0
  date: '2019-07-21 10:59:14 -0400'
  content: Woooow!:) So beautiful!! ❤️❤️
- id: 0
  author: C# for
  author_email: compitionpoint@gmail.com
  author_url: https://compitionpoint.com/c-for/
  date: '2019-07-21 12:23:49 -0400'
  content: C# for loop structure of C# is like an all-in-one looping utility. The
    C# for loop acts like the while loop only with some extra features.
- id: 0
  author: EasyWebTutor
  author_email: renuka.manmathan@gmail.com
  author_url: http://www.easywebtutor.tech
  date: '2019-08-05 06:30:12 -0400'
  content: "Great article on \"NiFi\" and \"Solr\" with very nice explanation. Good
    job!!!&nbsp;:)\r\nGuys check the website \r\n\"www.easywebtutor.tech\" for other
    web tutorials. Thanks!!!"
- id: 0
  author: Navendu
  author_email: technicalnavendu@gmail.com
  author_url: https://www.lavlesh.com/2019/08/top-10-best-smartphone-company-in-the-world.html
  date: '2019-08-20 09:04:17 -0400'
  content: 'Great post about NiFi, Its really gives me knowledge. '
- id: 0
  author: pushpam
  author_email: pushpambhshk@gmail.com
  author_url: https://www.trickcode.in/
  date: '2020-02-02 09:01:47 -0500'
  content: "how to set up an Android studio project\r\nshow how to set up an Android
    studio project and obtain started secondly I'm getting to leave of my way to explicitly
    show you ways and where things are organized in Android studio where to write
    down your code where to style how your app goes to seem where your resources go
    that sort of thing and third I'm getting to demonstrate.\r\nhow to run your finished
    app before starting this series you ought to have already got some experience
    with Java all of my students find yourself finishing a beginner unit in Java and
    have already got experience using Eclipse .\r\nMeaning Java runtime environment
    and obtain Java installed on your computer you furthermore may need the software
    development kit that's abbreviated SDK which is additionally available at Oracle
    for free of charge and third you furthermore may need Android studio installed\r\nhttps://www.trickcode.in/2020/02/what-is-android-studio.html"
- id: 0
  author: Sandeep Kumar
  author_email: haxitricks@gmail.com
  author_url: https://www.haxitrick.com
  date: '2019-08-23 09:41:28 -0400'
  content: It's a unique post that I found on the Internet for indexing tweets.
- id: 0
  author: rahul
  author_email: rahul24kumar65@gmail.com
  author_url: https://www.getrock.online
  date: '2019-08-23 18:51:39 -0400'
  content: Nice Very useful information, thanks for sharing
- id: 0
  author: Raj
  author_email: rajp6133@gmail.com
  author_url: https://cjavapoint.blogspot.com/
  date: '2020-01-22 10:16:52 -0500'
  content: 'Learn Core java Interview Questions For All '
- id: 0
  author: John
  author_email: gyani4guruji@gmail.com
  author_url: http://gyaniguruji.in
  date: '2019-08-31 02:57:27 -0400'
  content: It is very helpful article. nice tutorial
- id: 0
  author: Csk Vs Mi
  author_email: jujjuri.suresh95@gmail.com
  author_url: https://www.ipl2020todaymatch.com/
  date: '2020-02-03 02:52:44 -0500'
  content: Such a piece of useful information. Thanks for sharing
- id: 0
  author: rahul
  author_email: rahul24kumar65@gmail.com
  author_url: https://www.getrock.online
  date: '2019-09-01 19:18:01 -0400'
  content: Geate sir
- id: 0
  author: akstw
  author_email: akstw@gmail.com
  author_url: https://www.aspdotnet-suresh.com
  date: '2019-09-02 01:55:09 -0400'
  content: Step by step detailed information. Thanks.
- id: 0
  author: gopal  bhandari
  author_email: gvtjobdadda@gmail.com
  author_url: https://www.gvtjobsadda.com/full-form-of-opd/
  date: '2020-01-25 16:05:00 -0500'
  content: very nice article like it
- id: 0
  author: IPL for 2020
  author_email: info@iplfor2020.com
  author_url: https://www.iplfor2020.com
  date: '2020-01-27 05:58:55 -0500'
  content: Very Nice Article and the Content Writer obviously Deserves appreciation
    :)
- id: 0
  author: IPL 2020
  author_email: contact@iplfor2020.com
  author_url: https://www.iplfor2020.com/vivo-ipl-2020-schedule/
  date: '2020-01-27 06:03:50 -0500'
  content: 'VIVO IPL 2020 Schedule & Time Table : https://www.iplfor2020.com/vivo-ipl-2020-schedule/'
- id: 0
  author: digital seva
  author_email: ssk977@gmail.com
  author_url: https://digitalseva.club/
  date: '2019-09-16 02:48:50 -0400'
  content: Thank you for sharing such an amazing article
- id: 0
  author: movierulz
  author_email: printmypik@gmail.com
  author_url: https://indiansfeeds.blogspot.com/2019/08/movierulz-telugu-movies-download-fore.html
  date: '2019-09-19 11:13:17 -0400'
  content: "<a href=\"https://indiansfeeds.blogspot.com/2019/08/movierulz-telugu-movies-download-fore.html\r\n\">Movierulz
    Movies Download </a>\r\n"
- id: 0
  author: coding tag
  author_email: codingtag.com@gmail.com
  author_url: https://www.codingtag.com/
  date: '2019-10-01 05:48:37 -0400'
  content: thanks for the amazing blog.
- id: 0
  author: https://vivoiplt20.in/vivo-ipl-2020-vivo-ipl-season-13-full-schedule-time-date-and-vanue/
  author_email: theviraltricks143@gmail.com
  author_url: https://vivoiplt20.in
  date: '2019-10-09 04:48:24 -0400'
  content: See VIVO IPL 2020 Full Schedule with Teams & Find Latest Whatsapp Group
    Link 2019
- id: 0
  author: Movierulz
  author_email: indiansfeeds@gmail.com
  author_url: https://indiansfeeds.clevercase.co.in/2019/08/movierulz-telugu-movies-download-fore.html
  date: '2019-10-22 06:16:52 -0400'
  content: Hello
- id: 0
  author: WIFI Full form, Wireless LAN Technology, Technical Specification
  author_email: extraimage299@gmail.com
  author_url: https://trendsofglobal.com/wifi-full-form-wireless-lan-wechnology-technical-specification/
  date: '2019-10-28 18:24:58 -0400'
  content: "WIFI Full form, Wireless LAN Technology, Technical Specification\r\n"
- id: 0
  author: FullStack.Cafe
  author_email: uvimateapp@gmail.com
  author_url: https://www.fullstack.cafe/
  date: '2019-11-03 06:46:43 -0500'
  content: Thank you for the great information!
- id: 0
  author: WhatsApp Groups
  author_email: no@mail.com
  author_url: https://thegrouplinks.com/
  date: '2019-11-17 17:06:50 -0500'
  content: Thank you for the wonderful blog.
- id: 0
  author: VIVOIPLT20
  author_email: theviraltricks143@gmail.com
  author_url: https://vivoiplt20.in/vivo-ipl-2020-vivo-ipl-season-13-full-schedule-time-date-and-vanue/
  date: '2019-11-21 17:07:22 -0500'
  content: GREAT ARTICLE CHECK HERE VIVO IPL 2020 FULL SCHEDULE
- id: 0
  author: ipl2020todaymatch
  author_email: ipl2020todaymatch@gmail.com
  author_url: https://www.interresults2020.com/intermediate-exam-time-table-2020
  date: '2020-02-12 11:04:42 -0500'
  content: "<a href=\"https://www.ipl2020todaymatch.com/csk-vs-mi-head-to-head-matches-results\">csk
    vs mi head to head\r\n</a>"
- id: 0
  author: logicmojo
  author_email: logicmojo001@gmail.com
  author_url: https://www.logicmojo.com/
  date: '2020-02-21 05:21:15 -0500'
  content: The Logicmojo is a good hub for providing  online courses.We offer the
    best free online courses to learn and Data Structures Course,Algorithm Interview
    Questions,Data Structure Interview Questions,Data Structures And Algorithms,Data
    Structures And Algorithms Course,Fundamentals Of Data Structures,Data Structure
    Questions etc. For more info visit our website today.
- id: 1
  author: Lobo
  author_email: lobowilber07@gmail.com
  author_url: ''
  date: '2016-02-01 05:20:42 -0500'
  content: "Hi, I am new to NiFi, i have been floowing this blog post and did exactly
    as suggested, but the tweets are not flowing into SolrCloud.\r\n\r\nBtw i could
    start only the GetTwitter process, the rest couldn't. Need help to fix this at
    the earliest"
- id: 1
  author: sarkarinaukriup
  author_email: letestphone.com@gmail.com
  author_url: https://www.sarkarinaukriup.co/
  date: '2020-01-09 09:19:35 -0500'
  content: 'all type gov jobs '
- id: 1
  author: Ratan Das
  author_email: theviraltricks143@gmail.com
  author_url: http://gyanbazaar.co.in
  date: '2019-09-28 08:43:53 -0400'
  content: "Watch latest USA<a herf=\"http://gyanbazaar.co.in/18-whatsapp-group-link-list-2019/>18+whatsapp
    group link<a/>\r\n\r\nSee <a herf=\"https://vivoiplt20.in/vivo-ipl-2020-vivo-ipl-season-13-full-schedule-time-date-and-vanue/>VIVO
    IPL 2020 Schedule<a/>\r\n\r\n"
- id: 2
  author: Bryan
  author_email: bbende@gmail.com
  author_url: ''
  date: '2016-07-20 13:04:58 -0400'
  content: "You need to use the dynamic field type for a date in Solr... \"_s\" is
    a string, \"_dt\" is a date https://github.com/apache/lucene-solr/blob/67b638880d81fbb11abfbfc1ec93a5f3d86c3d3b/solr/server/solr/configsets/basic_configs/conf/managed-schema#L153\r\n\r\nKeep
    in mind the value might have to be formatted properly into a valid Solr date string
    first."
- id: 2
  author: Apache Spark
  author_email: ms25291@gmail.com
  author_url: https://www.javatpoint.com/apache-spark-tutorial
  date: '2019-12-19 11:08:59 -0500'
  content: Thanks you share valuable content. Its very helpful and interesting content
    on Apache.
- id: 2
  author: latestphoneprice
  author_email: letestphone.com@gmail.com
  author_url: https://www.latestphoneprice.com/
  date: '2020-01-09 09:18:21 -0500'
  content: best information thanks
- id: 2
  author: lyrics
  author_email: sarkarijob.gov@gmail.com
  author_url: https://www.lyricsn.com/
  date: '2020-01-09 09:29:13 -0500'
  content: all songs lyrics
- id: 3
  author: 4 Bilder 1 Wort t&auml;gliches R&auml;tsel L&ouml;sungen
  author_email: mateoburns11@gmail.com
  author_url: https://4bilder1wortraetsel.de/
  date: '2019-09-01 14:35:17 -0400'
  content: Thanks for the information
- id: 4
  author: sukesh
  author_email: sukeish@gmail.com
  author_url: https://blogs.apache.org/nifi/entry/indexing_tweets_with_nifi_and
  date: '2017-08-20 21:46:01 -0400'
  content: "@Bryan, i am not able to find the managed-schema for cloud collection
    \"gettingstarted\"... \r\n\r\nI am trying to get files text files from local repo
    and indexing into solr using PutSolrContentStream.\r\n\r\ninput files are in below
    format :\r\nuserid,pcname,employeename,email,role,date,activity\r\nhow do i add
    index to solr? \r\n\r\n\r\n"
- id: 4
  author: Film
  author_email: letestphone.com@gmail.com
  author_url: https://www.filmyfm.com/
  date: '2020-01-09 09:15:44 -0500'
  content: all type movies news
- id: 4
  author: koitrypsenla1980
  author_email: ilabfoge1973@gmail.com
  author_url: https://blogs.apache.org/trafficserver/entry/rolling_the_d2o_choosing_an
  date: '2019-07-21 06:39:12 -0400'
  content: So fresh! Love it all! Typographic selection is incredible. Texture work
    is awesome.
- id: 4
  author: avkilmelunch1988
  author_email: nassisyho1977@gmail.com
  author_url: https://blogs.apache.org/logging/entry/welcome_ivan_habunek
  date: '2019-07-21 08:47:39 -0400'
  content: beauty! Keep it Up
- id: 5
  author: Bash Script Tutorial
  author_email: tutorialsmate@gmail.com
  author_url: https://www.tutorialsmate.com/2019/09/bash-script-tutorial.html
  date: '2020-01-08 16:02:58 -0500'
  content: Nice Information.
- id: 5
  author: girl whatsapp group
  author_email: sarkarijob.gov@gmail.com
  author_url: https://www.naukarijob.com/2020/01/girls-whatsapp-group-links.html
  date: '2020-01-09 09:28:23 -0500'
  content: all girls whatsapp groups
- id: 6
  author: Bryan
  author_email: bbende@gmail.com
  author_url: ''
  date: '2016-02-25 17:33:20 -0500'
  content: "Sharath, \r\n\r\nFor indexing data from HDFS, take a look at the ListHDFS
    and FetchHDFS processors, they are used together to pull data out of HDFS.\r\n\r\nLobo,\r\n\r\nFor
    indexing data from a database, take a look at slide 30 here: http://www.slideshare.net/BryanBende/building-data-pipelines-for-solr-with-apache-nifi\r\n"
- id: 6
  author: Francis
  author_email: francis.apel@promega.com
  author_url: ''
  date: '2016-04-21 16:15:55 -0400'
  content: Thank you for this walk-thru. I have everything configured and runnable,
    but when I start the GetTwitter, nothing happens (I don't get any tweets) it just
    sits there running. Can you give me some ideas on how I can troubleshoot what
    the issue might be? Thank you in advance!
- id: 6
  author: Interview Questions
  author_email: tutorialsmate@gmail.com
  author_url: https://www.tutorialsmate.com/p/interview-questions.html
  date: '2020-01-08 16:07:09 -0500'
  content: 'really useful info. '
- id: 6
  author: Sweeta
  author_email: kathiyawadiblog@gmail.com
  author_url: https://www.serve4you.in/2019/08/android-app-to-hide-videos.html
  date: '2019-08-19 15:46:12 -0400'
  content: "Nice\r\nVery useful information, thanks for sharing"
- id: 6
  author: Vivo IPL 2020 Schedule
  author_email: no@mail.com
  author_url: https://ipl2020schedule.co.in/vivo-ipl-2020-schedule-pdf/
  date: '2019-08-22 09:07:43 -0400'
  content: Such a piece of useful information. Thanks for sharing
- id: 6
  author: Gyanbazaar
  author_email: theviraltricks143@gmail.com
  author_url: http://gyanbazaar.co.in/girls-whatsapp-group-link-collection-2019-adults-18-indian-usa/
  date: '2019-11-21 17:05:38 -0500'
  content: Latest Whatsapp Group Link
- id: 7
  author: IPL Schedule
  author_email: rajat.dhasmana09@gmail.com
  author_url: https://iplt20schedule2020.com/
  date: '2019-12-26 07:40:47 -0500'
  content: "thanks for the wonderful article...\r\nhttps://iplt20schedule2020.com/"
- id: 7
  author: love shayari
  author_email: letestphone.com@gmail.com
  author_url: https://shayarire.com
  date: '2020-01-09 09:23:22 -0500'
  content: 'love hindi shayari '
- id: 8
  author: SHIVADEEP GUNDOJU
  author_email: shivadeep_deep@yahoo.com
  author_url: ''
  date: '2016-07-20 12:18:21 -0400'
  content: "Hello Team,\r\n\r\n  Thanks for the great post.\r\n   \r\n   I have followed
    al the steps and able to pull the tweets and store in solr\r\n\r\nBut stuck with
    one problem\r\n\r\nThe filed \"twitter_created_at_s\" is of datatype string .
    I want to store it as type Date. How can I achieve this.\r\n\r\nI spent almost
    twodays to search but no luck  :( :(\r\n\r\nPlease help\r\n\r\n  "
- id: 8
  author: ticgingfenrumb1983
  author_email: polsarele1984@gmail.com
  author_url: https://blogs.apache.org/usergrid/entry/apache_usergrid_1_0_2
  date: '2019-07-20 17:32:10 -0400'
  content: Spectacular work! @Lemonade . @Tiago Antonio @Christophe CAMBRESIS Thanks!!
    ☺️
- id: 9
  author: Lobo
  author_email: nifitweet@gmail.com
  author_url: ''
  date: '2016-02-12 08:41:47 -0500'
  content: "How do i ingest fields in Solr based on properties-Indexed,Stored,Required,\tMultiValued,Unique
    Key.\r\nWhere in NiFi will i make such configuration. Kindly provide and example
    for better undertanding. Thanks.\r\n"
- id: 9
  author: Bryan
  author_email: bbende@gmail.com
  author_url: ''
  date: '2016-07-20 14:31:07 -0400'
  content: Right now its taking the value of created_at directly out of the JSON and
    inserting it to Solr. You would need to modify the JSON document so it had the
    correct value before it got to PutSolrContentStream. One way to do this would
    be to extract all of the fields being inserted to Solr into attributes using EvaluateJsonPath,
    then use UpdateAttribute with expression language to modify the date, then use
    AttributesToJson to replace the content with a new JSON document. Another approach
    might be to use the new JoltTransformJson processor in NiFi 0.7.0.
- id: 15
  author: SHIVADEEP GUNDOJU
  author_email: shivadeep_deep@yahoo.com
  author_url: ''
  date: '2016-07-20 14:35:31 -0400'
  content: Okay will try and get back bryan.. Than you so much for your quick help
- id: 23
  author: coslectmato1983
  author_email: inalspirax1974@gmail.com
  author_url: https://blogs.apache.org/tajo/entry/apache_tajo_0_8_0
  date: '2019-07-21 00:25:20 -0400'
  content: amazing & eye-catching work Thank you guys for comments! I'm happy to read
    it!
- id: 26
  author: Tina
  author_email: tensionends@gmail.com
  author_url: http://www.tensionends.com/downloading-movies-from-tamilrockers
  date: '2019-09-15 03:17:42 -0400'
  content: Great post about NiFi, Its really gives me knowledge. Keep us updated with
    such post in future too. thanks a lot.
- id: 27
  author: kashiks
  author_email: kashiks@outlook.com
  author_url: http://https://in.linkedin.com/in/kashiks
  date: '2015-11-10 04:21:29 -0500'
  content: "Thanks for sharing ..good post. \r\n\r\nI started taking a look at niFi
    after hortonworks took it seriously. What kind projects are you using Nifi in
    ? Are you putting it to production ?\r\n\r\nHave you integrated with enterprise
    schedulers ?\r\n\r\nHow to enable multiple developers work in parallel ?\r\n\r\n"
- id: 28
  author: samajavaragamana song lyrics
  author_email: wifilyrics20@gmail.com
  author_url: https://www.wifilyrics.com/samajavaragamana-song-lyrics
  date: '2020-02-05 08:40:19 -0500'
  content: Thanks for sharing
- id: 30
  author: Bryan
  author_email: bbende@gmail.com
  author_url: ''
  date: '2015-11-11 22:23:20 -0500'
  content: As far as enterprise schedulers, if you are referring to things like YARN
    and MESOS, there hasn't been any integration thus far. NiFi is not always intended
    to be deployed in a core data-center where one of these schedulers would live.
    Many times NiFi would be deployed closer to the sources of data and ship data
    back to the central data center. In these cases NiFi needs to run on its own and
    can't rely on these kinds of schedulers.
- id: 33
  author: 'Santosh '
  author_email: santosh.nalubandhu@capitalone.com
  author_url: ''
  date: '2016-12-22 00:07:20 -0500'
  content: Can I use NFI to convert TCP messages and stream it over to web clients?
- id: 36
  author: 'priya '
  author_email: rraj57459@gmail.com
  author_url: https://gadgetview.in/full-name-of-irctc/
  date: '2020-01-24 09:31:55 -0500'
  content: Nice Information
- id: 38
  author: Alex Pur
  author_email: alex.pur@gmail.com
  author_url: https://gamertweak.com/
  date: '2019-08-21 11:41:36 -0400'
  content: A very great tutorial, I feel upgrade would make it more greater.
- id: 39
  author: Robb Stark
  author_email: robbstark234@gmail.com
  author_url: https://madam360.com/
  date: '2019-08-21 09:51:09 -0400'
  content: Hi, I have a question.....what is IDs to follow property? Can I use NFI
    to convert TCP messages and stream it over to web clients?
- id: 45
  author: Abhishek Gaur
  author_email: abhishekgaur054@gmail.com
  author_url: http://automationlaboratories.com
  date: '2019-10-28 10:18:25 -0400'
  content: Thank you for wonderful blog.
- id: 49
  author: chisubprorea1982
  author_email: terettmarha1989@gmail.com
  author_url: https://blogs.apache.org/openmeetings/entry/apache_openmeetings_3_0_3
  date: '2019-07-21 09:53:37 -0400'
  content: Thank you Areesha.@Areesha Ahmad So good - amazing work!
- id: 51
  author: kostneemesa1970
  author_email: snipochmoyti1987@gmail.com
  author_url: https://blogs.apache.org/click/entry/apache_click_v2_2_0
  date: '2019-07-20 18:52:30 -0400'
  content: Lovely design! Really captures the use of meetfelix. Everything about this
    is beautiful and inspiring. Lovely work :D
- id: 53
  author: Routemaps
  author_email: Appledev@gmail.com
  author_url: https://routemaps.info/
  date: '2019-06-14 13:41:50 -0400'
  content: Great post!!!
- id: 55
  author: whatsappstatusdownlod
  author_email: sarkarijob.gov@gmail.com
  author_url: https://www.whatsappstatusdownload.site/
  date: '2020-01-09 09:32:16 -0500'
  content: all love and romantic status
- id: 57
  author: Bryan
  author_email: bbende@gmail.com
  author_url: ''
  date: '2016-12-22 13:51:53 -0500'
  content: Santosh, yes you can. Documentation for all of the available processors
    is here https://nifi.apache.org/docs.html
- id: 57
  author: giotradgoro1980
  author_email: tycommayro1973@gmail.com
  author_url: https://blogs.apache.org/aries/entry/osgi_devcon_us_approaching
  date: '2019-07-20 16:53:01 -0400'
  content: Bac&aacute;n como siempre master. Saludos del sur! Awesome artwork!!
- id: 59
  author: WhatsApp Group Links
  author_email: no@mail.com
  author_url: https://www.wpgrouplinks.xyz/
  date: '2019-12-26 14:39:01 -0500'
  content: " I really like reading through a post that can make people think. (Source:
    https://www.thenewsdigit.com/)"
- id: 68
  author: cludokmewso1982
  author_email: cionespowsra1988@gmail.com
  author_url: https://blogs.apache.org/hama/entry/announce_hama_0_6_4
  date: '2019-07-21 09:20:29 -0400'
  content: Great! So well done!!
- id: 76
  author: Jason
  author_email: ajfsdofns@gmail.com
  author_url: ''
  date: '2019-09-14 07:44:15 -0400'
  content: You made it interesting over here with www.trustpilot.com/review/edubirdie.com
    website.
- id: 80
  author: Mahesh Sharma
  author_email: ms25291@gmail.com
  author_url: https://www.tutorialandexample.com/apache-storm-tutorial/
  date: '2019-04-16 05:37:56 -0400'
  content: thanks for share, It very helpful and Great content for beginners.
- id: 84
  author: Computer Full Forms
  author_email: tutorialsmate@gmail.com
  author_url: https://www.tutorialsmate.com/p/full-forms.html
  date: '2020-01-08 16:05:52 -0500'
  content: Useful Info. Thank you.
- id: 99
  author: vishnu
  author_email: vkmistry723@gmail.com
  author_url: https://www.egways.com
  date: '2019-08-23 05:21:48 -0400'
  content: Nice Very useful information, thanks for sharing
- id: 110
  author: Bryan
  author_email: bbende@gmail.com
  author_url: ''
  date: '2016-02-01 14:24:49 -0500'
  content: Lobo, If you can't start the other processors, it is most likely because
    they are not configured properly and in an invalid state. Each processor should
    have a yellow icon in the top left that you can hover over which tells you exactly
    why the processor is considered invalid.
- id: 136
  author: Ricky
  author_email: ricky@eblogazine.com
  author_url: http://eblogazine.com/ipl-2020-schedule
  date: '2020-01-21 19:49:02 -0500'
  content: "VIVO IPL 2020 Match Schedule Updates\r\nhttp://eblogazine.com/ipl-2020-schedule"
- id: 245
  author: sagar
  author_email: doijodesagar8@gmail.com
  author_url: https://www.ipl2020score.in/
  date: '2020-01-01 10:59:20 -0500'
  content: "Great Article satisfied worth reading\r\nhttps://www.ipl2020score.in/"
- id: 398
  author: 'Unique Imagination '
  author_email: rajapal789@gmail.com
  author_url: https://unique134.blogspot.com/2019/07/10-best-programming-languages-to-learn.html
  date: '2019-07-13 09:59:03 -0400'
  content: "It is very helpful article.so Thanks \r\nAND ALSO READ THE OTHER ARTICLE
    \r\nTop 10 best programming languages to learn in 2019 with Top 10 Programming
    Languages like C, C++, Python, Java, JavaScript, TypeScript etc."
- id: 405
  author: Codingshala.com
  author_email: albertsteve.1997@gmail.com
  author_url: https://www.codingshala.com
  date: '2019-10-05 12:52:37 -0400'
  content: Thanks for such a wonderfull article.
- id: 500
  author: BSNL Balance Check
  author_email: no@mail.com
  author_url: https://www.ussdcodes.com/bsnl-balance-check.html
  date: '2019-08-22 09:06:38 -0400'
  content: Nice Very useful information, thanks for sharing
- id: 633
  author: kishore
  author_email: printmypik13@gmail.com
  author_url: http://clevercase.co.in
  date: '2019-09-01 12:50:44 -0400'
  content: nice blog post helped it thnx for the information download movies from
    http://clevercase.co.in/movierulz-download-lates-tamilt-movies-from-here
- id: 673
  author: pushpam
  author_email: pushpambhshk@gmail.com
  author_url: https://www.trickcode.in/
  date: '2020-02-02 09:00:56 -0500'
  content: Android studio is a tool that you use to develop an Android app and it's
    considered an integrated development environment that's usually abbreviated IDE
    and that simply means that it contains a text editor for instance that's wont
    to write your Java code it contains debugging tools to assist you fix problems
    once they occur and it also contains tools for helping to run your app.
- id: 718
  author: Gizygossip
  author_email: wrestlinghindiupdate@gmail.com
  author_url: https://gizyserialgossip.com/
  date: '2019-09-05 10:36:10 -0400'
  content: Thank  you for sharing such an amazing article ....
- id: 721
  author: compitionoint
  author_email: compitionpoint@gmail.com
  author_url: https://compitionpoint.com/complete-c-tutorial/
  date: '2019-07-21 12:22:44 -0400'
  content: Learn C# Tutorial for beginners and professionals covering all topics such
    as OOPs, Strings, Exception, Multithreading, Delegates, Events, IO Streams, Reflection
    etc.
- id: 766
  author: Sam Creed
  author_email: samcreed008@gmail.com
  author_url: https://boostsocial.io
  date: '2019-08-21 11:40:47 -0400'
  content: When and where can we get this? Do you deliver to India? Woow very nice!
- id: 768
  author: Hindi Attitude Status
  author_email: no@mail.com
  author_url: https://www.dailystatuscollection.in/hindi-status-attitude-whatsapp-facebook.html
  date: '2019-08-22 09:10:15 -0400'
  content: If you are looking for WhatsApp Status then must check list.
- id: 881
  author: mohan
  author_email: mohanitram@outlook.com
  author_url: http://www.interviewgig.com
  date: '2020-01-14 12:15:44 -0500'
  content: Nice Post
- id: 891
  author: Apache Ambari Tutorial
  author_email: tutorialandexample@gmail.com
  author_url: https://www.tutorialandexample.com/apache-ambari-tutorial/
  date: '2019-06-28 09:09:48 -0400'
  content: 'Thanks For Share Best Article on Apache NIFI. its very helpful for Beginners
    and Professionals. '
- id: 926
  author: techbeamers
  author_email: dasagrivamanu@gmail.com
  author_url: https://www.techbeamers.com/
  date: '2019-06-27 17:49:29 -0400'
  content: An extremely useful and quite an explanatory post, thanks.
- id: 1966
  author: suraj shukla
  author_email: letestphone.com@gmail.com
  author_url: https://www.whatsappg.com/2020/01/gbwhatsapp-apk-download-latest-version-2020.html
  date: '2020-01-09 09:10:40 -0500'
  content: gb whatsapp download
- id: 3893
  author: buspromarna1976
  author_email: vetaldespbsol1977@gmail.com
  author_url: https://blogs.apache.org/openejb/entry/alternate_descriptors_for_testing
  date: '2019-07-21 07:11:22 -0400'
  content: cool idea 喜欢，很可爱
- id: 4516
  author: Free Recharge Tricks
  author_email: no@mail.com
  author_url: http://freerechargetricks.in
  date: '2019-08-22 09:08:41 -0400'
  content: 'I''m looking for this step by step guide for a long time. Thanks for sharing '
- id: 7912
  author: Interview Questions
  author_email: janhavijaiswal@yahoo.com
  author_url: https://www.interviewqueries.com
  date: '2019-06-19 09:37:42 -0400'
  content: Hey that's great, thanks for sharing such knowledgable article on NiFi
    and Solr.
- id: 8276
  author: He is so cute lyrics
  author_email: wifilyrics20@gmail.com
  author_url: https://www.wifilyrics.com/he-is-so-cute-lyrics-sarileru-neekevvaru
  date: '2020-02-05 08:36:00 -0500'
  content: "Very Nice Article and the Content Writer obviously Deserves appreciation
    :)\r\n"
- id: 9144
  author: pooja
  author_email: pooja89330@gmail.com
  author_url: https://compitionpoint.com/2018/06/01/bitwise-operators/
  date: '2019-01-20 10:13:07 -0500'
  content: It is very helpful article.so Thanks
- id: 9935
  author: groovy tutorial
  author_email: marian.m@gmail.com
  author_url: http://www.javatechworld.com/groovy-tutorial/
  date: '2018-09-06 07:25:38 -0400'
  content: For indexing data from HDFS, take a look at the ListHDFS and FetchHDFS
    processors, they are used together to pull data out of HDFS. Lobo, For indexing
    data from a database,
- id: 25542
  author: Lobo
  author_email: nifitweet@gmail.com
  author_url: ''
  date: '2016-02-25 11:47:29 -0500'
  content: 'Thanks much Bryan, it helped me achieve my task, I am interested to use
    Nifi to ingest data from database to Solr. Can you guide me as to which processors
    are involved and specific settings to each if required. Thanks!! '
- id: 28002
  author: 18+ Whatsapp Group Link
  author_email: theviraltricks143@gmail.com
  author_url: http://gyanbazaar.co.in/18-whatsapp-group-link-list-2019/
  date: '2019-09-28 08:49:03 -0400'
  content: Watch Latest Whatsapp link link list 2019
- id: 47391
  author: sri
  author_email: srijitachaturvedi14@gmail.com
  author_url: ''
  date: '2017-09-29 13:35:04 -0400'
  content: "​Hi, I have a question.....what is IDs to follow property?...for eg: if
    i want all tweets containing 'WALMART' then i gave walmart in search terms  then
    should i need to give twitter id of walmart in IDs to follow? if i give this then
    will it fetch tweets only from twitter id of walmart?"
- id: 54339
  author: sukesh
  author_email: sukeish@gmail.com
  author_url: https://blogs.apache.org/nifi/entry/indexing_tweets_with_nifi_and
  date: '2017-08-20 21:50:17 -0400'
  content: '@Bryan : please let me know ,where can i find managed-schema for collection
    "gettingstarted" for solr cloud....'
- id: 62208
  author: waleed waqar
  author_email: waleed.baba49@gmail.com
  author_url: https://trendsofglobal.com/wifi-full-form-wireless-lan-wechnology-technical-specification/
  date: '2019-10-28 18:24:06 -0400'
  content: Thanks For Sharing This Information
- id: 66511
  author: Film Zone
  author_email: ptc4ever88@gmail.com
  author_url: https://filmzone.com/
  date: '2019-09-01 07:57:34 -0400'
  content: Great post. Nice tutorial. Thanks for sharing with us.
- id: 84765
  author: CodyCross L&ouml;sungen
  author_email: mateoburns11@gmail.com
  author_url: https://codycrossloesungen.de/
  date: '2019-08-31 16:53:12 -0400'
  content: Great Info. Thanks for sharing it with us
- id: 97608
  author: movierulz
  author_email: letestphone.com@gmail.com
  author_url: https://www.filmyfm.com/2020/01/movierulz-2020-movie-download-in-hindi.html
  date: '2020-01-09 09:17:02 -0500'
  content: all type movie download
- id: 184959
  author: life status
  author_email: letestphone.com@gmail.com
  author_url: https://www.hotshayari.com/2020/01/life-status-in-hindi-font.html
  date: '2020-01-09 09:14:03 -0500'
  content: very goodartical
- id: 568860
  author: csk vs mi head to head
  author_email: ipl2020todaymatch@gmail.com
  author_url: https://www.ipl2020todaymatch.com/csk-vs-mi-head-to-head-matches-results
  date: '2020-02-12 11:06:04 -0500'
  content: "very nice article like it\r\n"
- id: 709879
  author: mandydhollwell
  author_email: mandydhollwell@gmail.com
  author_url: https://www.linkbuildingcorp.com/link-building/one-way-link-building-services.html
  date: '2019-09-30 09:57:12 -0400'
  content: "it is very wondefull conference and Im grateful for the article post.well
    done, Really looking forward to read more. Awesome.\r\n"
- id: 802117
  author: Muhammad idrees
  author_email: idrees.Muhammad@hotmail.com
  author_url: ''
  date: '2017-12-17 04:54:41 -0500'
  content: "can you please upgrade your tutorial? i am using solr-7.1.0 and nifi-1.4.0.
    \r\nwhen i tried your example, it give the following error\r\n\r\nC:\\solr-7.1.0\\bin>solr
    create_collection -c tweets -d data_driven_schema_configs -shards 1 -replicationFactor
    1\r\n\r\nERROR: Could not find solrconfig.xml at C:\\solr-7.1.0\\server\\solr\\configsets\\solrconfig.xml,
    C:\\solr-7.1.0\\server\\solr\\configsets\\conf\\solrconfig.xml or C:\\solr-7.1.0\\server\\solr\\configsets\\data_driven_schema_configs\\conf\\solrconfig.xml"
- id: 3276551
  author: mirza ghalib
  author_email: sarkarijob.gov@gmail.com
  author_url: https://www.miyagalib.xyz/
  date: '2020-01-09 09:29:59 -0500'
  content: best mirza ghalib shayari
- id: 5963311
  author: flikpicks
  author_email: flikpicks@gmail.com
  author_url: http://flikpicks.com/technology/pythons-recognition-remains-mountain-climbing/
  date: '2018-09-06 07:31:13 -0400'
  content: A very great tutorial, I feel upgrade would make it more greater.
- id: 9100301
  author: Tina
  author_email: tinasaxena236@gmail.com
  author_url: https://gyaniguruji.in/7starhd-download-hd-movies-free
  date: '2019-09-12 05:14:31 -0400'
  content: Thanks for the post...
permalink: nifi/entry/indexing_tweets_with_nifi_and
---
<h1>Indexing Tweets with NiFi and Solr</h1>
<p>
   <span class="author">Bryan Bende -&nbsp;</span><br />
   <span class="author"><a href="mailto:bbende@gmail.com">bbende@gmail.com</a></span></p>
<hr />
<p>
  This post will cover how to use Apache NiFi to pull in the public stream of tweets from the Twitter API, identify<br />
  specific tweets of interest, and deliver those tweets to Solr for indexing. The example developed here was built against<br />
  <a href="https://nifi.apache.org/download.html">Apache NiFi 0.3.0</a> and <a href="http://lucene.apache.org/solr/downloads.html">Apache Solr 5.3</a>.</p>
<p>
  In addition, you will also need to create a Twitter application for accessing their API. A good set of instructions for<br />
  doing that can be found in this article - <a href="http://iag.me/socialmedia/how-to-create-a-twitter-app-in-8-easy-steps/"><br />
  How to Create a Twitter App in 8 Easy Steps</a>.</p>
<h2>Setting up Solr</h2>
<p>
For this example we will start Solr in cloud mode, and create a tweets collection based off the data-driven configuration provided by Solr.<br />
The data-driven configuration allows Solr to create fields on the fly based off the incoming data, and is a good place to start for quickly prototyping.<br />
The following two commands can be used to get Solr running and create the collection:</p>
<div>
<code></p>
<pre style="background-color: #f1f1f1">
./bin/solr start -c
./bin/solr create_collection -c tweets -d data_driven_schema_configs -shards 1 -replicationFactor 1
</pre>
<p></code>
</div>
<p>
  At this point we should have a running Solr instance on port 8983, with an embedded ZooKeeper on port 9983. Navigate<br />
  to <a href="http://localhost:8983/solr/#/~cloud">http://localhost:8983/solr/#/~cloud</a> in your browser to verify Solr<br />
  is running and the tweets collection was created sucessfully.</p>
<h2>Building the Dataflow</h2>
<p>
  The dataflow we are going build in NiFi will consist of the following processors:</p>
<ul>
<li><b>GetTwitter</b> for accessing the Twitter API and producing FlowFiles containing JSON Tweets</li>
<li><b>EvaluateJsonPath</b> for extracting values from JSON documents into FlowFile attributes</li>
<li><b>RouteOnAttribute</b> for making decisions about incoming FlowFiles based on their attributes</li>
<li><b>MergeContent</b> for merging together many JSON documents to a single document</li>
<li><b>PutSolrContentStream</b> for streaming JSON documents to Solr</li>
</ul>
<p>  The overall flow looks like the following:</p>
<p><img src="https://blogs.apache.org/nifi/mediaresource/467b2cdd-dc71-48f4-be14-159ba3f794bc" alt="nifi-twitter-solr-flow.png"></img></p>
<p>
  Lets walk through the configuration of each processor...</p>
<h3>GetTwitter</h3>
<p><img src="https://blogs.apache.org/nifi/mediaresource/2e77b3e6-8775-4f90-b805-7027a697aca5" alt="config-gettwitter.png"></img></p>
<p>
  Set the end-point to the Sample Endpoint and fill in the credentials corresponding with the Twitter application you created earlier.</p>
<p>
  For this example we are going to specify a language of "en" to get only English tweets.</p>
<h3>EvaluateJsonPath</h3>
<p><img src="https://blogs.apache.org/nifi/mediaresource/4f6bfc11-7eb6-484e-8276-ef5be176c3a6" alt="config-extract-attributes.png"></img></p>
<p>
  Now we want to extract the text and language of each tweet into FlowFile attributes in order to make decisions on these values later. Set the Destination property to "flowfile-attribute" and add two user-defined properties using the New Property icon on the top right. The name of the property will be the FlowFile attribute name, and the value is the JSON path we would like to extract from the Tweet. This will allow us to access these values later by using expression language, such as ${twitter.text} or ${twitter.lang}.</p>
<h3>RouteOnAttribute</h3>
<p><img src="https://blogs.apache.org/nifi/mediaresource/e70dd6c6-67df-4aef-94b4-4589964b66a8" alt="config-route-nonempty.png"></img></p>
<p>
  At this point we would like to ensure we are only indexing tweets we are interested. So we add a user-defined property called "tweet" and specify the following expression language as the value:</p>
<div>
<code></p>
<pre style="background-color: #f1f1f1">
${twitter.text:isEmpty():not():and(${twitter.lang:equals("en")})}
</pre>
<p></code>
</div>
<p>
  The first part of this expression filters out all the tweets which have an empty message.  This occurs frequently as some of the JSON documents coming through the end-point are not actual tweets.<br />
  The second part of the expression ensures that we are only selecting english tweets. We already set GetTwitter to filter on "en", but if we hadn't, the language could be used here to route different languages to different relationships.<br />
  Any tweets matching the above conditions will be routed to the "tweet" relationship based on the property we defined, and anything else will be routed to the "unmatched" relationship. We can auto-terminate the "unmatched" relationship to have the non-matching FlowFiles discarded.</p>
<h3>MergeContent</h3>
<p><img src="https://blogs.apache.org/nifi/mediaresource/d3304c5f-7871-421c-9f49-2f766cf40662" alt="config-merge.png"></img></p>
<p>
 In this example we could send the JSON documents from RouteOnAttribute directly to Solr, but in most real world scenarios accessing the Solr cluster will require network communication, and it will likely produce better performance if we batch together multiple JSON documents into a single request to reduce the amount requests sent over the network. The MergeContent processor is a powerful processor that was built just for this scenario in mind, and is capable of merging FlowFiles based on a number of criteria such as the number of FlowFiles, or their age. MergeContent also performs merges in a streaming manner and as a result is capable of merging a significant number of FlowFiles without worrying about exceeding memory constraints.</p>
<p>
 To configure MergeContent,  set a Minimum and Maximum Number of entries, as well as a Max Bin Age to trigger a merge in cases where no new data has come in for a period of time.  Also set the Delimiter Strategy to "Text", and specify the Header, Footer, and Demarcator as [ , ] respectively. This allows us to create a large JSON document composed of many incoming documents.</p>
<h3>PutSolrContentStream</h3>
<p><img src="https://blogs.apache.org/nifi/mediaresource/5f3c0112-620a-4738-b60c-8087feb2d3db?" alt="config-putsolr.png"></img></p>
<p>
Configure PutSolrContentStream to point to the Solr instance we started earlier by setting the Solr Type to "Cloud" and the Solr Location to the embedded ZooKeeper that was started earlier (localhost:9983). Also specify a Commit Within of "1000" to commit the incoming documents every second (this may not be needed if you set autoCommit settings in your solrconfig.xml).</p>
<p>
 Any user-defined properties will get sent to Solr on the request as key value pairs, so we need to tell Solr how to transform the incoming JSON document into a Solr document. A good explanation of how this JSON to Solr mapping works can be found<br />
<a href="http://lucidworks.com/blog/indexing-custom-json-data/">here</a>, and an explanation of the user-defined<br />
 properties can be found <a href="https://nifi.apache.org/docs/nifi-docs/components/org.apache.nifi.processors.solr.PutSolrContentStream/additionalDetails.html">here</a>.</p>
<p>
  For this example we will provide the following mappings:</p>
<ul>
<li><b>split=/</b> to treat each child JSON document that we merged together as individual Solr documents</li>
<li><b>id:/id</b> to map the id field of the JSON to the id field in the Solr schema (already defined)</li>
<li><b>twitter_text_t:/text</b> to map the text field of the JSON to a dynamic field of type text_general in Solr</li>
<li><b>twitter_username_s:/user/name</b> to map the user of the tweet to a dynamic string field in Solr</li>
<li><b>twitter_created_at_s:/created_at</b> to map the creation date string to a dynamic string field in Solr</li>
<li><b>twitter_timestamp_ms_tl:/timestamp_ms</b> to map the timestamp to a dynamic trie-long field in Solr</li>
</ul>
<p>
The naming conventions of the fields allow us to leverage dynamic fields in Solr. Dynamic fields take effect by using a suffix on the field name to indicate the field type, so the "_t" on "twitter_text_t" tells Solr that this field will map to a text_general field type. It is possible to not provide any field mappings and just send the JSON to Solr, and let Solr guess the field types on the fly. However, in that case all of the fields would get added as multiValued fields, and multiValued fields can't be used in a sorting clause which would prevent us from sorting on the timestamp. So we opt for the dynamic fields here.</p>
<p>
Also worth noting, this processor has two failure relationships. The regular "failure" relationship is for failures that would generally require some intervention to resolve, such as an invalid document being submitted. The "connection_failure" relationship is for failures related to communication issues between NiFi and Solr. A typical approach in a production scenario would be to route the "connection_failure" back to itself to retry during connection failures, and to route the "failure" relationship to a PutFile processor that could write out failed documents for later inspection.</p>
<h2>Summary</h2>
<p>
  At this point you should be able to hit Start on your processors and start seeing tweets flowing to Solr, happy indexing!</p>
<p>
  A template of the flow created in this example can be found <a href="https://cwiki.apache.org/confluence/display/NIFI/Example+Dataflow+Templates">here</a>. We would love to hear any questions, comments, or feedback that you may have!</p>
<p>
  <a href="http://nifi.apache.org">Learn more about Apache NiFi</a> and feel free to leave comments here or e-mail us at dev@nifi.apache.org.</p>
