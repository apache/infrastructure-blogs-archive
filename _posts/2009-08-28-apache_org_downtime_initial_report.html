---
layout: post
status: PUBLISHED
published: true
title: apache.org downtime - initial report
author:
  display_name: Paul Querna
  login: pquerna
  email: pquerna@apache.org
author_login: pquerna
author_email: pquerna@apache.org
id: d1ad89d5-d075-4d46-898e-c1da3a44dbfb
date: '2009-08-28 12:33:19 -0400'
categories:
- General
tags: []
comments:
- id: 0
  author: ''
  author_email: ''
  author_url: ''
  date: '2009-08-28 15:33:46 -0400'
  content: "yeah...apache.org deals better with this things than Dan Kaminsky or Matasano...\r\n\r\n"
- id: 0
  author: Narasimha
  author_email: ''
  author_url: ''
  date: '2009-08-28 18:25:33 -0400'
  content: Is this a DDOS attack
- id: 0
  author: whoppie
  author_email: whoppie@somewhere.com
  author_url: ''
  date: '2009-08-28 20:01:49 -0400'
  content: Why are the attacked guys the good ones... this sucks, go chase those idiots
    - hunt them down and make'em pay!
- id: 0
  author: Ross Gardler
  author_email: rgardler@apache.org
  author_url: http://www.oss-watch.ac.uk
  date: '2009-08-28 20:15:09 -0400'
  content: The ASF infra team rocks! Thanks.
- id: 0
  author: marcc
  author_email: sec1nfo@yahoo.com
  author_url: ''
  date: '2009-08-29 01:47:08 -0400'
  content: "Hi Guys - Yes, kudos for posting this info.  \r\nQuestion: Any guidance
    on what tools you were using to become aware of these 'rogue' processes running
    on your servers?  SIEM??\r\nMany thanks!\r\nMarc"
- id: 0
  author: H4TIM
  author_email: HaTIm.ALmUtIry@Gmail.Com
  author_url: ''
  date: '2009-08-29 02:03:58 -0400'
  content: "???? ???? ?? ?????? ??? ?? ?????? \r\n"
- id: 0
  author: Sameer
  author_email: acharya_sam@yahoo.com
  author_url: ''
  date: '2009-08-29 02:44:08 -0400'
  content: "Thanks for the information, actually I got this link from one of the user
    group mails.\r\n\r\nHow can SSH authentication from a host be used by an hacker
    unless he/she has some access to that host itself ?"
- id: 0
  author: Bart Van der Avort
  author_email: bart.vanderavort@gmail.com
  author_url: http://www.vanderavort.be
  date: '2009-08-29 07:19:51 -0400'
  content: "Way to go.\r\nLet other companies take a lesson here and adopt your openness
    when/if they get hit by a hack.\r\nThumbs up, good luck in finding the guilty
    party.\r\n\r\nStay Secure! "
- id: 0
  author: zaher
  author_email: kingzaher@gmail.com
  author_url: http://linuxawi.com/
  date: '2009-08-29 17:24:19 -0400'
  content: Thanks for the information
- id: 0
  author: Joe Poniatowski
  author_email: ''
  author_url: http://www.1003concepts.com/jp/security-privacy/153
  date: '2009-09-02 20:42:10 -0400'
  content: "[Trackback] A compromised SSH key lets hackers into Apache.org.  \n..."
- id: 1
  author: theodore
  author_email: tvaniderstine@dlnk.com
  author_url: http://www.dlnk.com
  date: '2009-08-29 11:15:30 -0400'
  content: "Bad that you got hacked... good that you've come clean.   When you have
    all of your systems back on-line, can you post a followup that details (if you
    can) 1) how you determined you had a problem (tripwire?) and 2) how you recovered
    (restore from backup?) and 3) what you did to prevent it from happening again
    (chmod?)\r\n\r\nThanks, and keep up the good work.\r\n\r\n(ps, when i add 6 +
    28 and get 2D, i get an error)"
- id: 2
  author: foo
  author_email: ''
  author_url: ''
  date: '2009-08-29 03:21:20 -0400'
  content: Perhaps it is time to consider a policy of off-by-default for CGI, PHP,
    WSGI etc and only whitelist specific directories that need to run scripts? Please
    do this change and push it down to all your distributors.
- id: 2
  author: Blind Injection
  author_email: ''
  author_url: http://msforge.net/blogs/levaja/archive/2009/09/01/hakovan-apache-org.aspx
  date: '2009-09-01 09:34:50 -0400'
  content: "[Trackback] https://blogs.apache.org/infra/entry/apache_org_downtime_initial_report"
- id: 3
  author: send9
  author_email: ''
  author_url: ''
  date: '2009-08-28 19:41:21 -0400'
  content: "@Narasimha: Are you joking or did you not bothering reading at all?"
- id: 3
  author: tashen
  author_email: tashen.hatena@gmail.com
  author_url: ''
  date: '2009-08-31 07:55:56 -0400'
  content: "Thank you for both your information and work.\r\n\r\nAdditionally, I want
    to know below.\r\n\r\n1. It affected to maven.apache.org?\r\n2. same thing of
    repo01.maven.org was?\r\n\r\nthanks."
- id: 4
  author: Network Sentry
  author_email: info@netsentinc.com
  author_url: http://www.netsentinc.com
  date: '2009-08-28 16:21:22 -0400'
  content: "@127.0.0.1 Ouch!\r\n@pquerna Yes - thanks for being open and honest.  Makes
    us feel more comfortable than when companies 'fog' the facts."
- id: 256
  author: Macedonia IT Pros
  author_email: ''
  author_url: http://autoexec.gr/blogs/thessalonikiitpros/archive/2009/08/31/apache-org-was-hacked.aspx
  date: '2009-08-31 13:56:13 -0400'
  content: "[Trackback] ?? ??? ????????? ???????: ???? 28/8/09 hackers ???????? ??
    ??????? website ??? Apache, ?? www.apache.org"
- id: 472
  author: Jose_X
  author_email: hozelda@yahoo.com
  author_url: ''
  date: '2009-08-31 21:11:07 -0400'
  content: Have the devs given insight over their workflows and security measures
    to new players recently? Going partially open can be a problem if you pick the
    wrong sub population. Hope no one is being bribed. OK, I am over-reacting.
- id: 615
  author: Steve 'Ashcrow' Milner
  author_email: stevem@gnulinux.net
  author_url: http://www.stevemilner.org/blog/
  date: '2009-08-28 13:09:33 -0400'
  content: Thank you for being open about this!
- id: 645
  author: Snake
  author_email: noemail@dot.com
  author_url: ''
  date: '2009-09-01 09:23:15 -0400'
  content: "Hi,guys..\r\nYou`ve hacked - its true,but:\r\n0 files deleted\r\n0 files
    modified\r\n0 trojans uploaded\r\nThis hack was done to ensure that you become
    more secure.Also, your server is running FreeBSD 7.2 and SunOS 5.10 with patches,which
    do not have public exploits at the moment.\r\nSo, i`m a white hat..no black. ;-)\r\nps:\r\nThank
    you for your understanding. Any questions - write here, i will try to answer.\r\n\r\n4moke)))"
- id: 925
  author: Tom
  author_email: tsparks@appliedops.net
  author_url: http://www.appliedops.net
  date: '2009-08-28 16:53:21 -0400'
  content: Doh! Time to switch hosting providers eh?
- id: 31767
  author: Justin R
  author_email: ''
  author_url: http://rovangju.blogspot.com
  date: '2009-08-28 13:58:38 -0400'
  content: You need to circulate this post and the ones to come more - there's already
    misleading articles related to this.
- id: 687157
  author: ''
  author_email: ''
  author_url: ''
  date: '2009-08-30 07:04:35 -0400'
  content: '123'
- id: 50022010
  author: Phil Rigby
  author_email: phil.rigby@gmail.com
  author_url: ''
  date: '2009-08-28 15:10:00 -0400'
  content: "Sucks that you got hit, but great that you're telling people about it
    and being upfront.\r\n\r\nWould love to know more about the compromised key though,
    how that happened..."
permalink: infra/entry/apache_org_downtime_initial_report
---
<p>This is a short overview of what happened on Friday August 28 2009<br />
to the apache.org services.&nbsp; A more detailed post will come at a later<br />
time after we complete the audit of all machines involved.</p>
<p> On August 27th, starting at<br />
about 18:00 UTC an account used for automated backups for the ApacheCon<br />
website hosted on a 3rd party hosting provider was used to upload files<br />
to minotaur.apache.org.&nbsp; The account was accessed using SSH key<br />
authentication from this host.</p>
<p><b>To the best of our knowledge at this time, no end users were affected by this incident,&nbsp; and the attackers were not able to escalate their<br />
privileges on any machines.</b></p>
<p><b>While we have no evidence that downloads were affected, users are always advised to check digital<br />
signatures where provided.</b>
<p>minotaur.apache.org runs<br />
FreeBSD 7-STABLE and is more widely known as people.apache.org.&nbsp;<br />
Minotaur serves as the seed host for most apache.org websites, in<br />
addition to providing shell accounts for all Apache committers.</p>
<p>The<br />
attackers created several files in the directory containing files for<br />
www.apache.org, including several CGI scripts.&nbsp; These files were then<br />
rsynced to our production webservers by automated processes.&nbsp; At about<br />
07:00 on August 28 2009 the attackers accessed these CGI scripts over<br />
HTTP, which spawned processes on our production web services. </p>
<p>At about 07:45 UTC we noticed these rogue processes on eos.apache.org, the Solaris 10 machine that normally serves our websites.</p>
<p>Within the next 10 minutes we decided to shutdown all machines involved as a precaution.</p>
<p>After<br />
an initial investigation we changed DNS for most apache.org services to<br />
eris.apache.org, a machine not affected and provided a basic downtime<br />
message.</p>
<p>After investigation, we determined that our European fallover and backup machine, aurora.apache.org, was not affected.&nbsp;&nbsp; While<br />
the some files had been copied to the machine by automated rsync<br />
processes, none of them were executed on the host, and we restored from<br />
a ZFS snapshot to a version of all our websites before any accounts<br />
were compromised.</p>
<p>At this time several machines remain offline, but most user facing websites and services are now available.</p>
<p>We will provide more information as we can.</p>
<p>&nbsp;</p>
