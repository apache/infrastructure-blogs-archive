---
layout: post
status: PUBLISHED
published: true
title: How Apache Projects Use Consensus
author:
  display_name: Benson Margulies
  login: bimargulies
  email: bimargulies@apache.org
author_login: bimargulies
author_email: bimargulies@apache.org
excerpt: What are those 'veto' votes about, anyway? What does Apache mean by 'consensus',
  and how does it foster 'community over code'?
id: 2b41743d-504b-4242-97fb-deaf9eb6f9ef
date: '2010-09-21 18:17:45 -0400'
categories:
- General
tags:
- community
- process
comments: []
permalink: comdev/entry/how_apache_projects_use_consensus
---
<div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; background-color: transparent; font-family: Times; font-size: medium; "><span id="internal-source-marker_0.2315526243764907" style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">The Apache Software Foundation exists to provide legal and technological infrastructure for open source projects. By and large, the Foundation leaves the individual project communities to make their own choices about their development process. There are some constraints that result from the fundamental legal umbrella held by the Foundation. For the Foundation to protect contributors, projects must respect the rules regarding IP management and releases. A more interesting set of constraints, however, stems from the Foundation&rsquo;s commitment to Open Source software development as a </span><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: italic; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">communal</span><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "> process. Apache projects are </span><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: italic; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">communities</span><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">, and some of the few pan-Foundation norms exist to ensure transparent, fair, collegial, decision-making processes.</span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">Roughly speaking, the two pillars of the Apache community model are mailing lists and consensus process. The mailing list policy is simple enough. Community decisions must be reached on the mailing list. This allows anyone in the community, whatever their location or time zone, to participate. Consensus is a more complex matter.</span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">At a first glance, consensus process is defined by the</span><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: bold; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "> veto</span><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">. When an important matter it put to a vote, even one &lsquo;-1&rsquo; vote blocks progress. This seems like a recipe for gridlock. It isn&rsquo;t. It </span><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: bold; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">could </span><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">be, if the consensus process consisted only of veto rights. </span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">Consensus wasn&rsquo;t invented, of course, at Apache. The most famous example of consensus process is the Quaker Meeting, though many organizations have adopted and adapted it since. In a consensus-based organization, you&rsquo;ll hardly ever hear someone use the term &lsquo;veto&rsquo;. Instead, you will hear the phrase, &lsquo;block consensus&rsquo;. And, from these two words, we can unpack the larger model of consensus.</span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">The goal of consensus is make decisions that are acceptable to everyone in the group. &lsquo;Acceptable,&rsquo; not &lsquo;ideal.&rsquo; For a consensus organization to function, all the participants have to be willing to balance their personal views with the good of the group. Anyone can block consensus -- but blocking consensus is not a choice that anyone takes lightly.</span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">People being people, this is not a natural state of affairs. People disagree. A functional consensus process requires a group of people who are willing to spend as much time as it takes to reach complete agreement -- where &lsquo;complete agreement&rsquo; is defined as &lsquo;acceptable to everyone.&rsquo; Consensus groups discuss a decision, at length, until someone thinks that the group has reached a consensus. At this point, the moderator asks, &lsquo;do we have a consensus&rsquo;? </span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">Silence, at this point, defines success.</span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">The process I just described was built, over many years, for face-to-face meetings. At Apache, project decisions aren&rsquo;t made at face-to-face meetings, but rather on mailing lists. Further, Apache projects are full of impatient programmers. Silence, then, is not a practical measurement. ASF projects use two adjustments to classic consensus process to adapt it to the Foundation&rsquo;s needs: the three-valued vote and &lsquo;lazy&rsquo; consensus.</span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">When an Apache Project Management Committee needs to make an important, binding, hard-to-reverse decision, such as declaring a release, it holds a vote. Members vote -1, 0, or 1.</span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">Any member of the committee can block consensus by voting &lsquo;-1&rsquo;. </span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">Without face-to-face meetings, Apache projects need a way to tell if, in fact, enough people are in favor of an decision to justify proceeding. Face-to-face, this might be left to the judgement of a moderator. At Apache, this is the job of the two other voting options: &lsquo;0&rsquo; and &lsquo;+1&rsquo;. A vote of &lsquo;+1&rsquo; is a positive endorsement of the proposal, while a vote of &lsquo;0&rsquo; is an abstention. Different situations require different minimum numbers of +1 votes.</span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">If a three-valued vote is a more formal, electoral, sort of event than a traditional consensus process, the &lsquo;lazy&rsquo; consensus is just the opposite -- a means of making a decision without any explicit decision-making process at all. Many projects use lazy consensus for routine, reversible, decisions. The group has an existing consensus on an overall approach, and individual members go ahead and make the day-to-day decisions without stopping to poll their peers. The most common application of lazy consensus is software development itself. In a project using lazy consensus, a committer will post a patch and notify the list. Absent any objection, she goes ahead and checks it in. Now, in some sense, this is just like classic consensus; silence is consent. Some projects take this a step further. Committers go ahead and commit routine changes. If someone objects, the original committer backs the change out. Some objections result in a discussion followed, perhaps, by removing the change, and others result in reverting followed by discussion. The net result is that committers can progress on the work at hand without having to wait around for approval. </span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; ">This process is not a magic cure for human nature. Apache projects suffer from disputes and dissension just like everyone else. The consensus rules, however, encourage collegial behavior (the goal is to convince everyone, not to assemble a majority block). And, in the worse case, they serve as a firewall. If an Apache community grinds to a halt due to an abject inability to reach consensus, it will be painfully obvious from the voting records, and the board can take note and act.</span></div>
