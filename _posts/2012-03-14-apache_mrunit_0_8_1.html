---
layout: post
status: PUBLISHED
published: true
title: Apache MRUnit 0.8.1-incubating has been released!
author:
  display_name: brock
  login: brock
  email: brock@apache.org
author_login: brock
author_email: brock@apache.org
id: fe1141d4-0e70-4739-828a-a6b4346abff1
date: '2012-03-14 23:33:40 -0400'
categories:
- General
tags: []
comments: []
permalink: mrunit/entry/apache_mrunit_0_8_1
---
<p>
We (the Apache MRUnit team) have just released Apache MRUnit 0.8.1-incubating. Apache MRUnit is an Apache Incubator project. MRUnit is a Java library that helps developers unit test Apache Hadoop MapReduce jobs. Unit testing is a technique for improving project quality and reducing overall costs by writing a small amount of code that can automatically verify the software you write performs as intended.  This is considered a best practice in software development since it helps identify defects early, before they're deployed to a production system.</p>
<p>
The MRUnit project is actively looking for contributors, even ones brand new to the world of open source software. There are many ways to contribute: documentation, bug reports, blog articles, etc. If you are interested but have no idea where to start, please email brock at cloudera dot com. If you are an experienced open source contributor, the MRUnit wiki explains <a href="https://cwiki.apache.org/confluence/display/MRUNIT/How+to+Contribute">How you can Contribute</a>.</p>
<p>
The new release includes one bug fix and a number of new features including, but not limited to:</p>
<ul>
<li>Support Hadoop 0.20 and 0.23 (<a href="http://issues.apache.org/jira/browse/MRUNIT-31">MRUNIT-31</a> and <a href="http://issues.apache.org/jira/browse/MRUNIT-56">MRUNIT-56</a>)</li>
<li>Improved test failure messages (<a href="http://issues.apache.org/jira/browse/MRUNIT-15">MRUNIT-15</a>)</li>
<li>Static driver factories (<a href="http://issues.apache.org/jira/browse/MRUNIT-43">MRUNIT-43</a>)</li>
</ul>
<p><h3><u>Support Hadoop 0.20 and 0.23</u></h3></p>
<p>
In <a href="http://issues.apache.org/jira/browse/MAPREDUCE-954">MAPREDUCE-954</a> Hadoop changed the public org.apache.hadoop.mapreduce API. The MRUnit team in <a href="http://issues.apache.org/jira/browse/MRUNIT-31">MRUNIT-31</a> was able to provide one release artifact which supports both versions of the API. <a href=" https://cwiki.apache.org/confluence/display/MRUNIT/Index">MRUNIT-56 provided three maven classifiers</a>, hadoop020, hadoop023, and hadoop100 to provide easy dependency on the correct binary.</p>
<p><h3><u>Improved test failure messages</u></h3></p>
<p>
Improving the test case failure messages is how I became involved in the project. Before this change you had to look at your console to see what errors had occurred. Now, when a test fails the error message contains an explanation of exactly what failed:</p>
<pre>
java.lang.RuntimeException: 1 Error(s): (Missing expected output (cat1, 1) at position 0.)
	at org.apache.hadoop.mrunit.TestDriver.validate(TestDriver.java:194)
	at org.apache.hadoop.mrunit.MapDriverBase.runTest(MapDriverBase.java:186)
	at TestWordCount.testMapper(TestWordCount.java:34)
</pre>
<p><h3><u>Static driver factories</u></h3></p>
<p>
Static driver factories are an addition which reduce much the weight imposed by Java generics. Before this new feature, to create a driver, say MapDriver, you would have to specify all the generic types:</p>
<pre>
mapDriver = new MapDriver<LongWritable, Text, Text, IntWritable>();
</pre>
<p>
Now, the generic types are inferred and you can simply specify:</p>
<pre>
mapDriver = MapDriver.newMapDriver();
</pre>
<p>
This should provide users with the ability to write simpler code. Additionally, using the MapDriver constructor will continue to work and is fully supported.</p>
<p>
Download the <a href="http://www.apache.org/dyn/closer.cgi/incubator/mrunit/">source release</a>, binaries via the <a href=" https://cwiki.apache.org/confluence/display/MRUNIT/Index">Maven artifact and classifier</a>, or download them directly via the <a href="https://repository.apache.org/content/repositories/releases/org/apache/mrunit/mrunit/0.8.1-incubating/">Maven repo</a>. More information on MRUnit is available on the <a href="http://incubator.apache.org/mrunit/">project website</a>.</p>
