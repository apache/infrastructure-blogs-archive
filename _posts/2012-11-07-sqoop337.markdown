---
layout: post
title: What's new in Apache Sqoop 1.4.2
date: '2012-11-07T22:44:05+00:00'
categories: sqoop
---
<p><b id="internal-source-marker_0.7268701861612499" style="font-family: 'Times New Roman'; font-size: medium; font-weight: normal; "> </b></p> 
  <p><b id="internal-source-marker_0.7268701861612499" style="font-family: 'Times New Roman'; font-size: medium; font-weight: normal; "><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">Sqoop 1.4.2 was released in August 2012. As this was an extremely important release for the Sqoop community - our first release as an Apache Top Level project - I would like to highlight the key features and fixes of this release. The entire change log can be viewed on our </span><a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12311320&amp;version=12320141"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">JIRA</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; "> and actual bits can be downloaded from the </span><a href="http://www.apache.org/dyn/closer.cgi/sqoop/"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">usual place</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">. </span></b> </p> 
  <h5 dir="ltr" style="display: inline !important; "><b id="internal-source-marker_0.7268701861612499" style="font-family: 'Times New Roman'; font-size: medium; font-weight: normal; "><span style="font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; "><b id="internal-source-marker_0.7268701861612499" style="white-space: normal; font-family: 'Times New Roman'; font-weight: normal; "> 
          <h5 dir="ltr"><span style="font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">Hadoop 2.0.0 Support</span></h5></b></span></b></h5> 
  <p><b id="internal-source-marker_0.7268701861612499" style="font-family: 'Times New Roman'; font-size: medium; font-weight: normal; "><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">One of the main the goals of the previous 1.4.1-incubating release was to make sure that Sqoop works on various Hadoop versions (that it's not locked to one specific version). We've made sure that Sqoop works on Hadoop 0.20, 1.0 and 0.23. We're excited to announce that in Sqoop 1.4.2 we've added support for Hadoop 2.0.x (</span><a href="https://issues.apache.org/jira/browse/SQOOP-574"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">SQOOP-574</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">) and so now Sqoop will work on four different major Hadoop releases!</span></b></p><b id="internal-source-marker_0.7268701861612499" style="font-family: 'Times New Roman'; font-size: medium; font-weight: normal; "><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">Even though we made sure that the same codebase will work across all different Hadoop versions, we couldn't ensure the same for the generated binary artifacts. Different Hadoop versions are not binary compatible with each other and there is nothing that Sqoop can do about that. You need to make sure that the Sqoop version that you're using has been compiled against the appropriate Hadoop version that your cluster is using. To help users pick the correct Sqoop binary, all artifacts in the release have a suffix that encodes the supported Hadoop version.</span><br /> 
    <h5 dir="ltr"><span style="font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">Compatibility with Old Connectors</span></h5><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">One of our goals during </span><a href="http://incubator.apache.org/"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">incubation</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; "> was to move the entire code base from the com.cloudera.sqoop namespace to the org.apache.sqoop namespace. The change would have broken backward compatibility for connectors compiled against Sqoop 1.3.x. Incompatibility was a showstopper for us and thus we developed this </span><a href="https://cwiki.apache.org/confluence/display/SQOOP/Namespace+Migration"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">solution</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">. Unfortunately during the code migration we overlooked </span><a href="https://issues.apache.org/jira/browse/SQOOP-480"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">one issue</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; "> that affected seamless usage of Microsoft, Oracle and other special connectors. With that resolved, there are no outstanding compatibility issues and all special connectors that were built against Sqoop 1.3.x should work on 1.4.2 without any issues or required modifications.</span><br /> 
    <h5 dir="ltr"><span style="font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">Incremental Imports of Free Form Queries</span></h5><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">One of many interesting and very useful features of Sqoop is incremental import: only deltas of new data are imported on an incremental basis to Hadoop (HDFS, Hive, HBase). We've extended this feature to support free form queries (</span><a href="https://issues.apache.org/jira/browse/SQOOP-444"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">SQOOP-444</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">) as well.</span><br /> 
    <h5 dir="ltr"><span style="font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">Implicit and Explicit Connector Pickup Improvements</span></h5><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">Logic that leads to connector selection in Sqoop was fragile and very hard to predict. Sqoop supports the parameters </span><span style="font-size: 13px; font-family: 'Courier New'; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">--driver</span><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; "> and </span><span style="font-size: 13px; font-family: 'Courier New'; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">--connection-manager</span><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; "> that are supposed to provide a reliable way to specify what connector and JDBC driver will be picked up. Unfortunately, by specifying the --driver option, the built-in connection manager selection defaults to the generic JDBC connector, ignoring the </span><span style="font-size: 13px; font-family: 'Courier New'; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">--connection-manager</span><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; "> option and any installed third party connectors. To address those nasty issues we've improved the connector selection (</span><a href="https://issues.apache.org/jira/browse/SQOOP-529"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">SQOOP-529</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">) process, so that the entire logic is now far more predictable and reliable.</span><br /> 
    <h5 dir="ltr"><span style="font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">Exporting Only a Subset of Columns</span></h5><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">The Export feature allows you to move large data volumes from the Hadoop ecosystem (HDFS, Hive) to relational database systems and data warehouses for additional processing or reporting. Until this release, the table that Sqoop was performing export into had to contain exactly the same number of columns as the exported data. This is highly undesirable in some use cases, so we've made sure (</span><a href="https://issues.apache.org/jira/browse/SQOOP-503"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">SQOOP-503</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">) that the parameter </span><span style="font-size: 13px; font-family: 'Courier New'; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">--columns</span><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; "> that was working in import will also work for export. However exporting data to only a subset of columns brings additional requirements to the target table: other columns must have either a default value or be nullable. The export job will fail otherwise.</span><br /> 
    <h5 dir="ltr"><span style="font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">Verbose Logging</span></h5><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">Verbose mode wasn't correctly working in Sqoop 1.4.x due to the aforementioned namespace migration. We've made sure to fix that (</span><a href="https://issues.apache.org/jira/browse/SQOOP-460"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">SQOOP-460</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">, &nbsp;</span><a href="https://issues.apache.org/jira/browse/SQOOP-488"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">SQOOP-488</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">). In addition we've extended the reach of the </span><span style="font-size: 13px; font-family: 'Courier New'; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">--verbose</span><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; "> parameter to generated mapreduce jobs (</span><a href="https://issues.apache.org/jira/browse/SQOOP-436"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">SQOOP-436</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">), so we now provide much better logging when needed during the entire import or export process!</span><br /> 
    <h5 dir="ltr"><span style="font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">Hive Imports</span></h5><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">Sqoop team has improved Hive imports in several ways. The first improvement was that the user no longer needs to remove the empty temporary directory after Sqoop moves data to Hive (</span><a href="https://issues.apache.org/jira/browse/SQOOP-443"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">SQOOP-443</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">). The main benefit is that the user now can perform multiple Hive imports with the same temporary directory without the need for extra manual steps. Until this release, each Hive import was using a temporary directory with the same name as the importing table stored in the user's home directory. The second notable improvement was to support arbitrary temporary directories when doing a Hive import (</span><a href="https://issues.apache.org/jira/browse/SQOOP-483"><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">SQOOP-483</span></a><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">). </span><br /><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; "></span><br /><span style="font-size: 13px; font-family: Verdana; background-color: transparent; vertical-align: baseline; white-space: pre-wrap; ">I believe that 1.4.2 is a great release with many improvements and interesting new features. All users are highly encouraged to upgrade to this latest release.</span><br /></b> 
  <p> </p>
