---
layout: post
status: PUBLISHED
published: true
title: "<h1>Ozone - The journey so far</h1><h3>Shashikant Banerjee, Mukul Kumar Singh</h3>"
id: 8c5fa4eb-b3f0-459e-a5b0-c9897a078aec
date: '2020-10-07 10:14:24 -0400'
categories: hadoop
tags:
- ozone
- hadoop
permalink: hadoop/entry/ozone-the-journey-so-far
---
<p><html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"></head><body class="c22">
<p class="c9 c14"><span class="c26 c1"></span></p>
<p class="c9"><span class="c1 c16">Apache Hadoop Ozone is a highly scalable, redundant, distributed object-store. Ozone is designed to </span><span class="c1 c16">work well with the</span><span class="c6 c1">&nbsp;existing Apache Hadoop ecosystem applications like Hive, Spark etc. Moreover, it is designed for ease of operational use and scales to thousands of nodes and billions of objects in a single cluster. Ozone supports a Hadoop Compatible File System interface as well as the S3 protocol.</span></p>
<h1 class="c17" id="h.3n4ffhs0830b"><span class="c1 c32">Inception</span></h1>
<p class="c9"><span class="c1 c16">The Apache Hadoop Distributed File System (HDFS) has been the de facto file system for big data and works most optimally when most of the files are large &ndash; tens to hundreds of MBs. HDFS suffers from the famous </span><span class="c1 c16 c33">small files limitation </span><span class="c6 c1">and struggles when the file count goes beyond 300 million. Ozone was designed to address HDFS&rsquo;s limitations and at the same time to work seamlessly with the existing Hadoop applications.</span></p>
<h1 class="c17" id="h.98bfx96ikjck"><span class="c1">Releases</span></h1>
<p class="c9"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 662.22px; height: 372.50px;"><img alt="" src="https://blogs.apache.org/hadoop/mediaresource/59e2d6d1-caed-431d-92dc-7e52c02111ac" style="width: 662.22px; height: 372.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p>
<p class="c9"><span class="c1 c16">Ozone releases are named after </span><span class="c1 c16 c27"><a class="c10" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/List_of_national_parks_of_the_United_States&amp;sa=D&amp;ust=1602022926008000&amp;usg=AOvVaw1ntHTbS17zFKGETl_OyR3g">US national parks</a></span><span class="c1 c16">. With every minor release, we move to the next letter for the release name and choose a new national park starting with that letter.</span></p>
<h2 class="c25" id="h.88fyxwcng6gy"><span class="c1">Acadia</span><span class="c15 c1">(0.2.1)</span></h2>
<h3 class="c5" id="h.dl4hcdfeqlq4"><span class="c19 c1">New Features</span></h3>
<ul class="c21 lst-kix_lsvw8kfon2z6-0 start">
<li class="c7"><span class="c6 c1">Support for OzoneFileSystem</span></li>
<li class="c7"><span class="c6 c1">Integration with Hive, Spark, YARN, and MapReduce</span></li>
<li class="c7"><span class="c6 c1">Data pipeline handling and recovery</span></li>
</ul>
<p class="c9 c14 c31"><span class="c6 c1"></span></p>
<p class="c9"><span class="c1 c16">Th</span><span class="c1 c16">is is the first release </span><span class="c1 c16">of Ozone and it came out on </span><span class="c8 c1">Oct 1, 2018. The release had basic Ozone functionalities working where users could create </span><span class="c4 c1">ozone volumes, buckets, and keys via Ozone shell interface. Similarly, Ozone Filesystem interface was also functional thereby ensuring YARN, Hive, Spark and MapReduce applications can work against Ozone FS seamlessly. It had support for REST and RPC protocols as well as Java client libraries were also shipped for Ozone supporting both RPC and REST. Data pipeline handling and recovery in case of node failures support were built into the system as well.</span></p>
<h2 class="c25" id="h.5rrlhfvyvygw"><span class="c15 c1">Arches(0.3.0)</span></h2>
<h3 class="c5" id="h.1q0d64kixgy9"><span class="c19 c1">New Features</span></h3>
<ul class="c21 lst-kix_lsvw8kfon2z6-0">
<li class="c7"><span class="c6 c1">Support for S3 protocol via S3 Gateway</span></li>
</ul>
<p class="c9 c31 c14"><span class="c6 c1"></span></p>
<p class="c9"><span class="c8 c1 c24">The next release came out on Nov 22, 2018. This release came out with support for a new S3 compatible REST server which ensured Ozone can be used from any S3 compatible tools like </span><span class="c8 c1 c29">AWS CLI and AWS Java SDK. For example, with this release now a user could create buckets using AWS CLI or use </span><span class="c0"><a class="c10" href="https://www.google.com/url?q=https://docs.cloudposse.com/tools/goofys/&amp;sa=D&amp;ust=1602022926010000&amp;usg=AOvVaw1wXQDSR8xx8TbuiqHH58-b">Goofys</a></span><span class="c8 c1 c24">&nbsp;which is an S3 FUSE driver to mount any Ozone bucket as a POSIX file system. </span><span class="c23 c8 c1">It also had support for a minimally complete S3 API set which includes GET, HEAD, DELETE operations on buckets as well as objects.</span></p>
<p class="c9 c14"><span class="c8 c1 c23"></span></p>
<p class="c9"><span class="c23 c8 c1">The release incorporated significant OzoneFilesystem stability improvements. Ozone data pipeline handling and recovery procedures were improved and streamlined.</span></p>
<h2 class="c25" id="h.nlh3bqgnsc11"><span class="c15 c1">Badlands (0.4.0)</span></h2>
<h3 class="c5" id="h.xkn5svyoz6ls"><span class="c19 c1">New Features</span></h3>
<ul class="c21 lst-kix_lsvw8kfon2z6-0">
<li class="c7"><span class="c1 c6">Support for Apache Hadoop Security (Authentication/Authorization/Encryption)</span></li>
<li class="c7"><span class="c6 c1">Support for Auditing</span></li>
</ul>
<p class="c9 c14"><span class="c6 c1"></span></p>
<p class="c9"><span class="c1 c16">The next release in the chain was 0.4.0 which came out on</span><span class="c8 c1 c24">&nbsp;May 7, 2019. </span><span class="c4 c1">This release was primarily driven by the Security feature of Ozone. Kerberos-based authentication support for Ozone was added. It had support for Hadoop Delegation Tokens and Block Tokens, the motivation for which is to prevent the unauthorized access while keeping the protocol lightweight and without sharing the secret over the wire. Similar to this, S3Tokens were also added which are supposed to be used for every S3 client request.</span></p>
<p class="c9 c14"><span class="c4 c1"></span></p>
<p class="c9"><span class="c8 c1">Certificate Infrastructure for Ozone was plugged in to be used for </span><span class="c8 c1">certificate-based authentication for Ozone service components. </span><span class="c8 c1">Transparent Data Encryption (TDE) support came in as a part of this release as well which allows data blocks to be encrypted-at-rest along with </span><span class="c1 c4">Apache Ranger support to control Authorization. Yarn, Hive, and Spark were able to work seamlessly in a secure ozone cluster environment.</span></p>
<p class="c9 c14"><span class="c4 c1"></span></p>
<p class="c9"><span class="c8 c1">This release also included support for </span><span class="c8 c1">Audit</span><span class="c8 c1">&nbsp;Log which functionally completes the security</span><span class="c1 c8">&nbsp;ecosystem in Ozone. </span><span class="c4 c1">It came with a custom audit parser - a SQLite based command-line utility to parse/query audit logs with predefined templates and options for a custom query. </span></p>
<p class="c9 c14"><span class="c4 c1"></span></p>
<p class="c9"><span class="c8 c1">Support for </span><span class="c8 c1">S3A filesystem as well as for S3 gateway </span><span class="c4 c1">Multipart upload API were also major highlights of this release. </span></p>
<h2 class="c25" id="h.fb6r92u3qv3t"><span class="c1 c15">Biscayne (0.4.1)</span></h2>
<h3 class="c5" id="h.4klsc0xfbbuf"><span class="c1 c19">New Features</span></h3>
<ul class="c21 lst-kix_lsvw8kfon2z6-0">
<li class="c7"><span class="c6 c1">Kubernetes Integration</span></li>
<li class="c7"><span class="c6 c1">Support for Native as well as Ranger ACLs</span></li>
</ul>
<p class="c9 c14"><span class="c6 c1"></span></p>
<p class="c9"><span class="c1 c16">The next release made its way out on </span><span class="c8 c1">Oct 13, 2019, and with this release, native </span><span class="c2">K8s (Kubernetes)</span><span class="c8 c1">&nbsp;support came in Ozone as well. </span><span class="c4 c1">The Ozone distribution package contains all the required resources files to deploy Ozone on Kubernetes which ensures that Ozone becomes a first-class citizen on Kubernetes clusters.</span></p>
<p class="c9 c12"><span class="c8 c1">This release also plugged in support for </span><span class="c4 c1">native ACLs which can be used independently or along with Apache Ranger. If Apache Ranger is enabled, then ACLs will be checked first with Ranger and then Ozone&rsquo;s internal ACLs will be evaluated. Ozone ACLs are a super set of Posix and S3 ACLs.</span></p>
<p class="c12 c9 c14"><span class="c4 c1"></span></p>
<h2 class="c9 c11" id="h.csipzo7adoma"><span class="c15 c1">Crater Lake (0.5.0)</span></h2>
<h3 class="c5" id="h.q1n1u2ogdd11"><span class="c1">New Features</span></h3>
<ul class="c21 lst-kix_lsvw8kfon2z6-0">
<li class="c7"><span class="c1 c16">Support for </span><span class="c4 c1">Topology awareness</span></li>
<li class="c7"><span class="c8 c1">Support for </span><span class="c4 c1">GDPR Right to Erasure</span></li>
<li class="c7"><span class="c4 c1">Scale testing upto 1 billion objects</span></li>
</ul>
<p class="c9 c14"><span class="c4 c1"></span></p>
<p class="c9"><span class="c1 c16">The next release made its way out on </span><span class="c8 c1">Mar 24, 2020. </span><span class="c1 c16">T</span><span class="c1 c16">his was the first </span><span class="c16 c20">Beta</span><span class="c1 c16">&nbsp;</span><span class="c1 c16">release for Ozone. N</span><span class="c8 c1">etwork Topology awareness for block placement in Ozone was added in this release. Support for GDPR(Right to Erasure) was also one of the highlights of the release. With major stability and performance improvements in the IO pipeline, Ozone was tested and verified to work seamlessly with scale up to more than</span><span class="c2">&nbsp;1 Billion keys</span><span class="c4 c1">. </span></p>
<h2 class="c25" id="h.b2hcpmedl8vz"><span class="c1">Denali (1.0.0)</span></h2>
<h3 class="c5" id="h.nhaogju7vhxc"><span class="c19 c1">New Features</span></h3>
<ul class="c21 lst-kix_pd05wz4fgwdb-0 start">
<li class="c7"><span class="c8 c1">HA support for Ozone Manager</span></li>
<li class="c7"><span class="c8 c1">Ozone OFS (New File</span><span class="c8 c1">system scheme</span><span class="c4 c1">)</span></li>
<li class="c7"><span class="c4 c1">Support for SSL</span></li>
<li class="c7"><span class="c4 c1">Recon</span></li>
</ul>
<p class="c9 c31 c14"><span class="c4 c1"></span></p>
<p class="c9"><span class="c8 c1">This is the latest release of Ozone and is the </span><span class="c2">GA</span><span class="c4 c1">&nbsp;release. This release went out on Sep 2, 2020. It represents a point of API stability and quality that we consider production-ready. This release also added support for Recon which is a Management &amp; Administrative daemon inside Ozone which enables continuous monitoring of an Ozone cluster. It also periodically checks on the correctness and stability of an Ozone cluster and reports any anomalies.</span></p>
<p><br></br>
<p class="c12 c9"><span class="c8 c1">The Ozone journey thus far has been equally exciting and challenging due to the goals that we as a community had set out to achieve. Testing and Integration with diverse tools and products has helped in enhancing and stabilizing the system. Ozone is now truly production-ready to be used along with other Hadoop Applications.</span></p>
<p class="c12 c9"><span class="c4 c1">Some of the important features in the upcoming releases: </span></p>
<ul class="c21 lst-kix_yrkfdtfsj1u0-0 start">
<li class="c3"><span class="c4 c1">Support for upgrades and introduction of layout format in OM, SCM and DNs</span></li>
<li class="c3"><span class="c4 c1">Ozone File System improvements for Directory delete and rename</span></li>
<li class="c3"><span class="c4 c1">Decommissioning of Datanodes</span></li>
<li class="c3"><span class="c4 c1">Support for large capacity disks on datanodes</span></li>
</ul>
<p class="c12 c9"><span class="c4 c1">Some of the features which are further ahead in the Roadmap are</span></p>
<ul class="c21 lst-kix_yrkfdtfsj1u0-0">
<li class="c3"><span class="c4 c1">SCM High Availability</span></li>
<li class="c3"><span class="c4 c1">Erasure Encoding in Ozone to provide storage efficiency</span></li>
<li class="c3"><span class="c4 c1">NFS to support new Posix related workloads</span></li>
</ul>
<p class="c12 c9"><span class="c8 c1">More detailed information regarding Apache Ozone releases and roadmap can be found here: </span><span class="c0"><a class="c10" href="https://www.google.com/url?q=https://cwiki.apache.org/confluence/display/HADOOP/Ozone%2BRoad%2BMap&amp;sa=D&amp;ust=1602022926020000&amp;usg=AOvVaw1tlicl3fCoE_5DTcq01BZf">https://cwiki.apache.org/confluence/display/HADOOP/Ozone+Road+</a></span><span class="c0"><a class="c10" href="https://www.google.com/url?q=https://cwiki.apache.org/confluence/display/HADOOP/Ozone%2BRoad%2BMap&amp;sa=D&amp;ust=1602022926020000&amp;usg=AOvVaw1tlicl3fCoE_5DTcq01BZf">M</a></span><span class="c0"><a class="c10" href="https://www.google.com/url?q=https://cwiki.apache.org/confluence/display/HADOOP/Ozone%2BRoad%2BMap&amp;sa=D&amp;ust=1602022926020000&amp;usg=AOvVaw1tlicl3fCoE_5DTcq01BZf">ap</a></span><span class="c8 c1">.</span></p>
<p></body></html></p>
