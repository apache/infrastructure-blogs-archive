<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>20x faster mapreduce with gridgain-hadoop accelerator | Blogs Archive</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="20x faster mapreduce with gridgain-hadoop accelerator" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The article will show you how to speed-up your existing MapReduce code using a new Hadoop Accelerator by GridGain. The Accelerator is now available as a part of Apache Ignite (incubating)." />
<meta property="og:description" content="The article will show you how to speed-up your existing MapReduce code using a new Hadoop Accelerator by GridGain. The Accelerator is now available as a part of Apache Ignite (incubating)." />
<link rel="canonical" href="http://localhost:4000/bigtop/entry/20x_faster_mapreduce_with_gridgain" />
<meta property="og:url" content="http://localhost:4000/bigtop/entry/20x_faster_mapreduce_with_gridgain" />
<meta property="og:site_name" content="Blogs Archive" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-02-11T07:15:20-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="20x faster mapreduce with gridgain-hadoop accelerator" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2015-02-11T07:15:20-05:00","datePublished":"2015-02-11T07:15:20-05:00","description":"The article will show you how to speed-up your existing MapReduce code using a new Hadoop Accelerator by GridGain. The Accelerator is now available as a part of Apache Ignite (incubating).","headline":"20x faster mapreduce with gridgain-hadoop accelerator","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/bigtop/entry/20x_faster_mapreduce_with_gridgain"},"url":"http://localhost:4000/bigtop/entry/20x_faster_mapreduce_with_gridgain"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Blogs Archive" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Blogs Archive</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">20x faster mapreduce with gridgain-hadoop accelerator</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2015-02-11T07:15:20-05:00" itemprop="datePublished">Feb 11, 2015
      </time>â€¢ <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">{"display_name"=>"Konstantin I Boudnik", "login"=>"cos", "email"=>"cos@apache.org"}</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Just last year, <a href="www.gridgain.org">Gridgain</a> has opened up their data fabric platform under ASL2.0. Short after, we have added a new in-memory component (aka <a href="http://www.gridgain.com/products/hadoop-accelerator/">Hadoop Accelerator</a>) into Apache bigdata  stack that provides two major features:</p>
<ul>
<li>in-memory HDFS caching</li>
<li>in-memory MapReduce, transparently for any existing MapReduce code, including Hive generated queries</li>
</ul>
<p>With usual Bigtop focus on user experience, the setup and configuration are seamless and quick. Yet results are pretty tremendous, as you'll see in a few moments.</p>
<p>The Accelerator will be soon be released as a part of official 0.9 Bigtop release. For now, you can quickly build the packages for your system by simply running </p>
<blockquote>
<p><font face="courier new,courier,monospace">  % gradlew gridgain-hadoop-[apt|yum]</font></p>
</blockquote>
<p> on the current Bigtop trunk. You can do it easily with </p>
<ol>
<li>
<p><font face="courier new,courier,monospace">git clone https://git-wip-us.apache.org/repos/asf/bigtop.git &amp;&amp; cd bigtop</font></p>
</li>
<li>
<p><font face="courier new,courier,monospace">puppet apply --modulepath=`pwd` -e "include bigtop_toolchain::installer"</font></p>
</li>
<li>
<p><font face="courier new,courier,monospace">gradlew tasks</font> </p>
</li>
</ol>
<p>Once packages are built you can follow the <a href="https://github.com/apache/bigtop/blob/master/bigtop-deploy/puppet/README.md">deployment process</a>, and only set "gridgain-hadoop" in the list of the desired components, if you aren't interested in HDFS or anything else.</p>
<p>In our case, we also be installing <font face="courier new,courier,monospace">hadoop &amp; yarn</font> to have some ready MR examples for comparative performance test. Now you should have your cluster running the Accelerator in fully distributed mode. Time for test. During the deployment, new Hadoop client configurations were generated under <font face="courier new,courier,monospace">/etc/hadoop/gridgain.client.conf</font>.  You will need to point your client there using <font face="courier new,courier,monospace">HADOOP_CONF_DIR</font> environment variable. Let's run the job:</p>
<blockquote>
<p><font face="courier new,courier,monospace">HADOOP_CONF_DIR=/etc/hadoop/gridgain.client.conf&nbsp; hadoop jar /usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples.jar pi 200 200</font></p>
</blockquote>
<p>This command will calculate Pi using Quasi MonteCarlo method by running 200 maps with 200 samples per map. If your cluster is similar to mine - 3 2-core VM nodes, 8 GB RAM each, then you'll see the result in about <b>7 seconds</b> from start to finish. Pi is estimated to be <font face="courier new,courier,monospace">3.1414</font>. Close enough!</p>
<p> Now, let's run the same task but using YARN scheduler with a classic MapReduce application. Same as above, but this time let's use standard Hadoop configuration:</p>
<blockquote>
<p><font face="courier new,courier,monospace">hadoop jar /usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples.jar pi 200 200</font></p>
</blockquote>
<p>We got the same Pi estimation, which is expected considering that exactly the same code was ran, but the time is very different. The execution took <b>143 seconds</b> or about 20 times longer. </p>
<p>Thanks for great implementation of completely in-memory MapReduce algorithm we were able to get many fold performance improvement without changing a signle line of the application code. Same approach works for Hive queries, where one can make Hive to work with Gridgain Accelerator after as much as supplying a trivial client-side <font face="courier new,courier,monospace">hive-site.xml</font> configuration file.</p>
<p>One might argue that similar performance gains could perhaps be achieved by using other in-memory technologies like <a href="http://spark.apache.org">Spark</a>. True. Yet with Spark you'll have to learn a new programming paradigm (and possible new language) and rewrite all your existing code to run on Spark cluster. Here you just point your client to a different set of configurations. By the way, Bigtop was first to recognize the value of Spark and started offering it as a part of our 0.6.0 release in early 2012 - well before any commercial vendors jumped on the band wagon. So, I am not bashing Spark in any way.</p>
<p>The great news: Hadoop Accelerator and the full data fabric platform is now available as <a href="http://ignite.incubator.apache.org">Apache Ignite</a> (incubating) project. As we are tilting more and more towards in-memory data processing stack, we'll be adding the Ignite platform into Bigtop once their first release is out.</p>

  </div><a class="u-url" href="/bigtop/entry/20x_faster_mapreduce_with_gridgain" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Blogs Archive</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Blogs Archive</li><li><a class="u-email" href="mailto:issues@infra.apache.org">issues@infra.apache.org</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>This is an archive of the Roller blogs that were previously hosted on blogs.apache.org</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
