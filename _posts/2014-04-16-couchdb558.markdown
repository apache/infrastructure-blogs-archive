---
layout: post
title: Merging rcouch
date: '2014-04-16T20:50:14+00:00'
categories: couchdb
---
<p>rcouch is a variant of CouchDB that is derived from the main Apache CouchDB code base. One way to look at it is as a “future port” of CouchDB, that is for two reasons:
</p>

<p>
<ol>
<li>The internals are <strong>greatly improved</strong>. In simple terms, if CouchDB would be started to day, it would look a lot like rcouch.</li>
<li>It comes with a number of <strong>nice new features</strong>.</li>
</ol>
</p>

<p>So whether you are a CouchDB user or a CouchDB Erlang developer, rcouch is <strong>good news</strong> for you!</p>

<p>Since CouchDB has been around for a while, the internal codebase is a little crufty. We are constantly working on improving that, but one of the larger efforts have been done within the rcouch project by Apache CouchDB committer <a href="https://twitter.com/benoitc">Benoit Chesneau</a>.</p>

<p>At the same time, Benoit added a number of nice little features that benefit CouchDB users, just to name a few:</p>

<p>
<ul>
<li>_changes for views.</li>
<li>Replication from views.</li>
<li>Write-only “Drop-Box” databases.</li>
<li>Request validation on-read.</li>
<li>_db_changes (actually, we nicked that one for Apache CouchDB 1.4 already :).</li>
</ul>
</p>

<p>For more information, see the <a href="http://rcouch.org">rcouch website</a>.</p>

<p>Benoit has generously donated the rcouch project back to Apache CouchDB and has worked on merging the rcouch and the CouchDB codebases. Now it is time to review the merged code and get it into Apache CouchDB proper and put it into a new release.</p>

<p>With that, <strong>we need your help</strong>.</p>

<p>How you can help, you ask? Easy!</p>

<p>If you are a CouchDB user, and are not afraid to build CouchDB yourself, give the rcouch merge branch a spin:</p>

<code>
<pre>
git clone https://github.com/apache/couchdb.git
cd couchdb
git checkout -b 1994-merge-rcouch origin/1994-merge-rcouch

# Read the <a href="https://github.com/apache/couchdb/blob/master/DEVELOPERS">DEVELOPERS</a> file to install all dependencies

# test regular build:
make

# test build with static icu library
make icu=static

# test build with shared libraries
make libs=shared

# run test suite
make check

# make a release
make rel

# run:
./rel/apache-couchdb/bin/couchdb start

# now CouchDB is running at <a href="http://127.0.0.1:5984">http://127.0.0.1:5984/_utils/</a>, as usual, you just won’t see any output.

</pre>
</code>

<hr>

<p><strong>If you are an Erlang developer</strong>, we could use your help with code reviews. Any small chunks will help!</p>

<p>Please see <a href="https://issues.apache.org/jira/browse/COUCHDB-1994">the associated JIRA ticket for more information</a>.</p>

<p>Thanks so much!</p>

<hr>

<h3>FaQ: how does this relate to BigCouch?</h3>

<p>It doesn’t really, the BigCouch merge is ongoing and we will announce updates and requests for review when the time is right. Well, actually, if we can convince you to help with the review of the rcouch merge, we can put even more resources on the BigCouch merge :)</p>
