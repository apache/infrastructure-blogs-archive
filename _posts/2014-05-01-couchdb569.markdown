---
layout: post
title: CouchDB Weekly News, May 1
date: '2014-05-01T16:48:13+00:00'
categories: couchdb
---
<h4>Weekly CouchDB meeting – <a href="http://wilderness.apache.org/archives/couchdb-meeting-30_04_2014-9188.html">summary</a></h4>
<ul>
	<li><strong>1.6.0 release</strong>: we are making progress, next is checking if all bugs have been fixed</li>
	<li><strong>BigCouch merge status</strong>: Cloudant will now focus on the BigCouch merge, visible progress should happen in the next couple of weeks</li>
	<li><strong>rcouch merge status</strong>: the testing is still in progress, feedback will be provided to the mailing list; merge to the new integration branch can be done after that feedback</li>
	<li><strong>Code of Conduct</strong>: the first version will now be drafted based on the discussion on the mailing list (for details, see "Major Discussions" section below)</li>
	<li><strong>By-laws</strong>: everyone in the community is invited to read the <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=40511017">draft</a> and join the discussion (<a href="http://markmail.org/search/?q=issues+with+terabytes+databases+list%3Aorg.apache.couchdb.user+order%3Adate-backward+date%3A201404#query:issues%20with%20terabytes%20databases%20list%3Aorg.apache.couchdb.user%20order%3Adate-backward%20date%3A200802-200810%20date%3A200812-201005%20date%3A201007-201303%20date%3A201305-201306%20date%3A201308-201404%20+page:1+mid:pxnd6vdpjuwjioqw+state:results">see thread</a>); please note that the bylaws now include a new idea about PMC chair rotation</li>
	<li><strong>Translation update</strong>: German translation is making good progress (see status <a href="https://translate.apache.org/de/CouchDB/">here</a>)</li>
</ul>
<h4>Major Discussions</h4>
<h5>Apache CouchDB Diversity Statement (<a href="http://markmail.org/search/?q=[DISCUSS]+Apache+CouchDB+Diversity+Statement.#query:[DISCUSS]%20Apache%20CouchDB%20Diversity%20Statement.%20list%3Aorg.apache.couchdb.dev%20order%3Adate-backward+page:2+mid:fqfvc6ghp3ssk5ef+state:results">see thread</a>)</h5>
<p>This discussion was initiated with the suggestion to establish a project-wide Diversity Statement. First, the idea was brought up to turn this document into a PMC charter, a document that sets out what the PMC values, their commitment to diversity, and their pledge to the project. The second idea was about how merit is being recognised and it was brought up to broaden this around the four areas <em>community</em>, <em>project</em>, <em>documentation</em> and <em>code</em>. <strong>"This is what we value. This is what we will recognise. Our promise to the community."</strong> (Noah Slater) It was agreed on creating two documents, one for the PMC charter, a second one for diversity.</p>
<h5>Discussion: Project by-laws (ongoing discussion; <a href="http://markmail.org/search/?q=issues+with+terabytes+databases+list%3Aorg.apache.couchdb.user+order%3Adate-backward+date%3A201404#query:issues%20with%20terabytes%20databases%20list%3Aorg.apache.couchdb.user%20order%3Adate-backward%20date%3A200802-200810%20date%3A200812-201005%20date%3A201007-201303%20date%3A201305-201306%20date%3A201308-201404%20+page:1+mid:pxnd6vdpjuwjioqw+state:results">see thread</a>)</h5>
<p>Proposal to vote in set of project by-laws that define the specific roles in this community and the decision making procedures that are used. The first draft of the by-laws has been discussed and modified accordingly and can be found <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=40511017">here</a>. Comments are very welcome.</p>
<h5>Apache CouchDB Developer Code of Conduct (ongoing discussion; <a href="http://markmail.org/search/?q=[VOTE]+Release+Apache+CouchDB+1.6.0-rc.3#query:[VOTE]%20Release%20Apache%20CouchDB%201.6.0-rc.3%20list%3Aorg.apache.couchdb.dev%20order%3Adate-backward+page:2+mid:p3txsrlgmm55ienf+state:results">see thread</a>)</h5>
<p>The PMC initiated a thread on moving forwards establishing an Apache CouchDB Developer Code of Conduct (CoC for short). Example Codes of Conduct from <a href="http://www.debian.org/vote/2014/vote_002">Debian</a>, <a href="https://www.python.org/psf/codeofconduct/">Python</a>, <a href="https://www.djangoproject.com/conduct/">Django</a> , <a href="https://github.com/bantik/contributor_covenant">Bantik</a>, <a href="http://nodeirc.info/">Node.JS</a> and the <a href="http://blog.izs.me/post/30036893703/policy-on-trolling">Node.JS IRC channel policy</a> were as well considered and discussed as transparency, the consequences of infractions and the differentiation between minor offences and major offences, how to deal with profanity and how this applies to IRC and the moderation policy there.</p>
<h5>HIPAA (Health Insurance Portability and Accountability Act) / HIPAA 5010 / PIPEDA compliance (<a href="http://markmail.org/search/?q=hippa+rules#query:hippa%20rules%20list%3Aorg.apache.couchdb.user%20date%3A201404%20order%3Adate-backward+page:1+mid:pjyg2nazliijjijp+state:results">see thread</a>)</h5>
<p>Question on building applications using CouchDB while having to follow HIPAA compliance. As for the legal topic this is, the community strongly recommended the user get in touch with a lawyer and getting proper compliancy and regulatory guidance.</p>
<h5><a id="load-spike-discussion"></a>CouchDB load spike (<a href="http://markmail.org/search/?q=couchdb+load+spike#query:couchdb%20load%20spike%20list%3Aorg.apache.couchdb.user%20date%3A201404%20order%3Adate-backward+page:1+mid:dztlbqyzen4q4zls+state:results">see thread</a>, see also the same question <a href="http://stackoverflow.com/questions/23330204/couchdb-load-spike-even-with-low-traffic">on StackOverflow</a>)</h5>
<p>Setup: CouchDB 1.5.0, database with &lt; 10 GB of data in it and continuous replication. Every few hours (3-4 times per day) they recognise a huge spike that floors the load to around 1.5 and memory usage to close to 100%. It turned out there was a similar issue that was already discussed (<a href="https://gist.github.com/7601778">link to gist</a>). The user filed issue <a href="https://issues.apache.org/jira/browse/COUCHDB-2231">COUCHDB-2231</a>.</p>

<p>Tips for general CouchDB monitoring and graphs drawing tools to check what's causing huge spikes (from Alexander Shorin, see <a href="http://markmail.org/search/?q=couchdb+load+spike#query:couchdb%20load%20spike%20list%3Aorg.apache.couchdb.user%20date%3A201404%20order%3Adate-backward+page:1+mid:txjsvb55ugry6pjm+state:results">this reply</a>):</p>
<ul>
	<li><a href="https://github.com/gws/munin-plugin-couchdb">Munin plugin for CouchDB monitoring</a> – It doesn’t handle system metrics for the CouchDB process yet, but that will be added soon; users should make sure they have a similar plugin for their monitoring system.</li>
	<li><a href="https://github.com/etsy/skyline">Skyline</a>, a detector for spikes and other anomalies</li>
	<li><a href="https://github.com/etsy/oculus">Oculus</a>, a metrics correlation tool that makes it very easy to compare multiple graphs for an anomaly period with it.</li>
</ul>
<h5>Release Apache CouchDB 1.6.0 rc3 (ongoing testing and discussion; <a href="http://markmail.org/search/?q=[VOTE]+Release+Apache+CouchDB+1.6.0-rc.3#query:[VOTE]%20Release%20Apache%20CouchDB%201.6.0-rc.3%20list%3Aorg.apache.couchdb.dev%20order%3Adate-backward+page:2+mid:p3txsrlgmm55ienf+state:results">see thread</a>)</h5>
<p>Some issues have already been fixed, the testing is still ongoing. Find all release artefacts we are voting on <a href="http://markmail.org/message/p3txsrlgmm55ienf">in this list</a>. If you want to test, please follow this <a href="http://wiki.apache.org/couchdb/Test_procedure">test procedure</a>. The changes since last vote round can be found <a href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=shortlog;h=refs/heads/1.6.x">here</a>.</p>
<h4>Releases in the CouchDB Universe</h4>
<ul>
	<li><a href="https://github.com/tomwilley/yama">yama</a> – mail app, work in progress; syncs CouchDB instance with an email inbox for RESTful email</li>
	<li><a href="https://pypi.python.org/pypi/tornado-couchdb/0.2.3">tornado-couchdb 0.2.3</a> – Blocking and non-blocking (asynchronous) clients for CouchDB using Tornado's httpclient</li>
	<li><a href="https://www.npmjs.org/package/loveseat">loveseat 0.0.11</a> – very limited CouchDB interface</li>
	<li><a href="https://www.npmjs.org/package/follow-db-updates">follow-db-updates 0.0.2</a> – easy CouchDB _db_changes follower, with older couch pollyfill</li>
	<li><a href="https://www.npmjs.org/package/seneca-couchdb-changes">seneca-couchdb-changes 0.1.0</a> – emit seneca.js events for all events in a couchdb _changes feed</li>
	<li><a href="https://www.npmjs.org/package/changes-stream">changes-stream 1.0.3</a> – simple module that handles getting changes from couchdb</li>
	<li><a href="https://www.npmjs.org/package/neuropil">neuropil 3.0.2</a> – a lighter and faster registry client for CouchDB based npm server</li>
	<li><a href="https://www.npmjs.org/package/nano">nano 5.8.0</a> – minimalistic CouchDB driver for node.js</li>
	<li><a href="http://rubygems.org/gems/couch_tap">couch_tap 0.0.2</a> – providing a DSL that allows complex CouchDB documents to be converted into rows in a RDBMS' table</li>
</ul>
<h4>Opinions</h4>
<ul>
	<li><a href="http://pimterry.github.io/Building-resilient-infrastructure-with-CouchDB/#1">Building resilient infrastructure with CouchDB</a> – slides from a talk at <a href="http://2014.nosql-matters.org/">NoSQL matters</a></li>
	<li><a href="http://blog.erlware.org/2014/04/27/some-thoughts-on-go-and-erlang/">Some Thoughts on Go and Erlang</a></li>
	<li><a class="title" href="http://undercovertechguy.wordpress.com/2014/04/24/compare-and-swap-lockless-paradigm-with-couchdbcloudant/" rel="bookmark">Compare-And-Swap; lockless paradigm with CouchDB/Cloudant</a></li>
	<li><a href="https://hamidreza-s.github.io/erlang/web/micro-framework/leptus/tutorial/2014/04/22/erlang-for-web-developers-with-leptus.html">Erlang for Web Developers with Leptus Micro-Framework</a></li>
</ul>
<h4>Use Cases, Questions and Answers</h4>
<ul>
	<li>Note on a use case, written by Dave Cottlehuber (see <a href="http://markmail.org/message/6dtkpwt66f7c7755">email</a>): <strong>Creating databases for new users signing up with a CouchDB login.</strong> – A common pattern for CouchDB is to have a per-user database, because this is the only boundary where CouchDB enforces user permissions for security. It also makes replicating user data to another device very straightforwards. When you have a new user signing up with a CouchDB login, you’ll often want to create a database for them immediately. While there’s no built-in feature to do this for you, the CouchDB community have of course rolled their own like these:
<ul>
	<li><a href="https://github.com/etrepum/couchperuser">couchperuser</a></li>
	<li><a href="https://github.com/pegli/couchdb-dbperuser-provisioning">couchdb-dbpersuser-provisioning</a></li>
</ul>
</li>
	<li>Personal Blog, how-to: <a href="http://www.everyhaironyourhead.com/installing-couchdb-1-5-1-on-amazon-linux-ami-2014-03-1/">Installing CouchDB 1.5.1 on Amazon Linux AMI 2014.03.1</a></li>
	<li>Stack Overflow: <a class="question-hyperlink" href="http://stackoverflow.com/questions/23242206/couchdb-not-working-on-android-emulator">CouchDB not Working on Android Emulator</a></li>
	<li>Stack Overflow: <a class="question-hyperlink" href="http://stackoverflow.com/questions/23261771/couchdb-document-deletion-and-performance">Couchdb document deletion and performance</a></li>
	<li>Stack Overflow: <a class="question-hyperlink" href="http://stackoverflow.com/questions/23255859/is-it-possible-to-conditionally-revoke-read-access-to-a-database-in-couchdb">Is it possible to conditionally revoke read access to a database in CouchDB?</a> (closed)</li>
	<li>Stack Overflow: <a class="question-hyperlink" href="http://stackoverflow.com/questions/23292586/can-a-view-in-cloudant-be-filtered-on-parameters-that-werent-part-of-its-key">Can a view in Cloudant be filtered on parameters that weren't part of [its] key</a></li>
	<li>Stack Overflow: <a class="question-hyperlink" href="http://stackoverflow.com/questions/23307554/add-an-attachment-to-a-document-in-couch-db-using-nodejs">add an attachment to a document in couch db using nodejs</a></li>
	<li>Stack Overflow: <a class="question-hyperlink" href="http://stackoverflow.com/questions/23330204/couchdb-load-spike-even-with-low-traffic">CouchDB load spike (even with low traffic)?</a> (question has also been asked on user@ mailing list. See discussion summary <a href="#load-spike-discussion">here</a>)</li>
	<li>Stack Overflow: <a class="question-hyperlink" href="http://stackoverflow.com/questions/23333943/couchdb-filtering-metadata-during-sync">CouchDB filtering metadata during sync</a></li>
	<li>Stack Overflow: <a class="question-hyperlink" href="http://stackoverflow.com/questions/23335350/user-authentication-using-couchdb-android">User Authentication using CouchDB Android</a></li>
	<li>Stack Overflow: <a class="question-hyperlink" href="http://stackoverflow.com/questions/23339683/ubuntu-couchdb-not-starting-on-change-of-database-dir-path">ubuntu couchDb not starting on change of database_dir path</a> (no public answer yet)</li>
	<li>Stack Overflow: <a class="question-hyperlink" href="http://stackoverflow.com/questions/23358813/join-two-different-documents-in-couchdb-using-futon-map-program">Join two different documents in couchdb using futon map program?</a></li>
	<li>Stack Overflow: <a class="question-hyperlink" href="http://stackoverflow.com/questions/23403056/how-to-structure-class-for-couchdb-http-api">How to structure class for Couchdb HTTP api?</a> (no public answer yet)</li>
	<li><a href="http://www.opendevs.org/myvwh/couchdb-still-at-1-5-2-even-though-it-has-been-updated-to-1-5-1-1-two-weeks-ago.html">couchdb still at 1.5.0-2 even though it has been updated to 1.5.1-1 two weeks ago</a></li>
	<li><a href="https://bbs.archlinux.org/viewtopic.php?pid=1409165#p1409165">local (1.5.1-1) is newer than community (1.5.0-2)</a> (solved)</li>
	<li><a href="http://queforum.com/android-applications/929461-android-user-authentication-using-couchdb-android.html">Android-User Authentication using CouchDB Android</a> (no public answer yet)</li>
	<li>Personal blog, question: <a href="http://vidz-lab.biz/user39/2014/04/24/can-replication-couchdb-faster-production-server/">Can replication on CouchDB be faster on production server?</a> (no public answer yet)</li>
</ul>
<h4>Get involved!</h4>
If you want to get into working on CouchDB:
<ul>
	<li><a href="https://blogs.apache.org/couchdb/entry/merging_rcouch"><strong>rcouch Merge</strong></a>: Erlang hackers and CouchDB users, we need your help with testing and review of the rcouch merge. It's easy! Find the how-to <a href=" https://blogs.apache.org/couchdb/entry/merging_rcouch">in this post</a>.</li>
	<li>Here's a <a href="https://issues.apache.org/jira/browse/COUCHDB-2178?jql=project%20%3D%20COUCHDB%20AND%20component%20%3D%20Fauxton%20AND%20status%20%3D%20Open%20AND%20cf[12310270]%20%3D%20%22New%20Contributors%20Level%20%28Easy%29%22">list of <strong>beginner tickets</strong></a> around our currently ongoing <a href="https://www.youtube.com/watch?v=R8b4kXBF01s">Fauxton</a>-implementation. If you have any questions or need help, don't hesitate to contact us in the couchdb-dev IRC room (#couchdb-dev) – Garren (garren) and Sue (deathbear) are happy to help.</li>
	<li>You want join us for the updates of <strong>CouchDB-Python</strong> for Python 3? Take a look at <a href="https://code.google.com/p/couchdb-python/issues/detail?id=231">issue 231</a>.</li>
</ul>
We'd be happy to have you!
<h4>Events</h4>
<ul>
	<li>May 13, Hamburg, Germany: the first <a href="https://plus.google.com/u/0/events/cvpbo7g50t77ii8nvdkitche8h8">CouchDB User Group meeting</a> in Hamburg</li>
	<li>May 13, New York, USA: <a href="http://www.meetup.com/mysqlnyc/events/178818342/">Database Superstars Panel, Future of NoSQL &amp; NewSQL</a>: CouchDB, NuoDB, OracleNoSQL</li>
</ul>
<h4>Job opportunities for people with CouchDB skills</h4>
<ul>
	<li><a href="http://jobsearch.naukri.com/job-listings-Database-Architect-with-Nosql-DB-Mongo-DB-Couch-DB-Globallogic-India-Ltd--Noida-5-to-10-250414900531">Database Architect with NoSQL DB/ Mongo DB/ Couch DB</a>, <em>Noida, India</em></li>
</ul>
<h4>… and also in the news</h4>
<ul>
	<li><span id="eow-title" class="watch-title  yt-uix-expander-head" dir="ltr" title="The Two Ronnies - The Confusing Library">Sketch: <a href="https://www.youtube.com/watch?v=nGlN_EaEgPQ">The Two Ronnies - The Confusing Library</a> (which could also just be about indexing data)</span></li>
	<li><a href="http://notonappstore.com/">Not on App Store</a> – because there isn't an app for everything</li>
</ul>
<em>Posted on behalf of Lena Reinhard.</em>
