---
layout: post
status: PUBLISHED
published: true
title: What's New in Apache Kafka 2.3
author:
  display_name: Colin McCabe
  login: cmccabe
  email: cmccabe@apache.org
author_login: cmccabe
author_email: cmccabe@apache.org
id: d9f1f8c2-2168-4047-aa6b-22fee4c32be5
date: '2019-09-09 14:12:48 -0400'
categories:
- Technology
tags:
- news
- release
- apache
comments:
- id: 0
  author: Asiabet4d
  author_email: verenagatha8@gmail.com
  author_url: https://play.asiabet4d.id/
  date: '2019-07-03 19:33:42 -0400'
  content: "This is a very good article, I like it very much and allow me to continue
    to follow. And visit my site too <a href=\"http://www.play.asiabet4d.id/\"> Taruhan
    Togel Online Terpercaya</a> thanks you bruhh.\r\n"
- id: 0
  author: Asiabet4d
  author_email: muadianggun99@gmail.com
  author_url: https://play.asiabet4d.id/
  date: '2019-07-04 18:46:01 -0400'
  content: This is a very good article, i like it very much and allow me to continue
    to follow. And visit my site too <a href="http://bit.ly/2IIpcc8/">Taruhan Togel
    Online Terpercaya</a> thanks you bruhh.
- id: 0
  author: Asiabet4d
  author_email: muadianggun99@gmail.com
  author_url: https://play.asiabet4d.id/
  date: '2019-07-04 18:47:02 -0400'
  content: This is a very good article, i like it very much and allow me to continue
    to follow. And visit my site too <a href="http://bit.ly/2IIpcc8/">Taruhan Togel
    Online Terpercaya</a> thanks you bruhh.
- id: 0
  author: TULISTOTO
  author_email: tulistotocom@gmail.com
  author_url: http://www.tototulis.info/
  date: '2019-07-08 00:02:03 -0400'
  content: This is a very good article, i like it very much and allow me to continue
    to follow. And visit my site too <a href="https://bit.ly/2AchmBW">Agen Bola Online
    Terpercaya</a> thanks you bruhh.
- id: 0
  author: John Simpson
  author_email: glasgowtrees@gmail.com
  author_url: http://www.glasgowtrees.co.uk
  date: '2019-07-08 18:58:16 -0400'
  content: Excellent and thank you
- id: 0
  author: Robert James
  author_email: concretemixnottingham@gmail.com
  author_url: https://www.concrete-mix.co.uk/
  date: '2019-07-08 19:03:00 -0400'
  content: Well laid out and difficult read but got there in the end. Many thanks
- id: 0
  author: https://www.americanelectricofjacksonville.com/
  author_email: belljack1967@gmail.com
  author_url: https://www.americanelectricofjacksonville.com/
  date: '2019-07-12 06:31:52 -0400'
  content: "Apache Kafka is probably the most useful when it comes to big data solution.
    \ While everyone else is moving to cloud, Apache kafka streamlines our big data.
    \ This feature will surely help us.\r\n"
- id: 0
  author: talandconmi1970
  author_email: isnonpaga1977@gmail.com
  author_url: https://blogs.apache.org/aries/entry/hello_world
  date: '2019-07-20 23:40:16 -0400'
  content: Fabulous! Very cohesive project. Well done !
- id: 0
  author: kanchamasbei1972
  author_email: ubaltrachu1986@gmail.com
  author_url: https://blogs.apache.org/openejb/entry/screencast_ejb_unit_testing_with1
  date: '2019-07-21 01:39:27 -0400'
  content: This is really a nice clean layout great view
- id: 0
  author: upundade1982
  author_email: presenloli1982@gmail.com
  author_url: https://blogs.apache.org/openmeetings/entry/apache_openmeetings_moodle_plugin_1
  date: '2019-07-21 04:55:59 -0400'
  content: Love the colour palette 嘴唇很美啊
- id: 0
  author: centcontaumo1978
  author_email: reicykipoc1973@gmail.com
  author_url: https://blogs.apache.org/openejb/entry/apache_tomee_logo_contest
  date: '2019-07-21 06:09:18 -0400'
  content: Absolutely impressive body of work! Amazing concept! I love it! Keep on
    growing So simple yet so detail. Love it!
- id: 0
  author: ingamivu1979
  author_email: arcemisi1983@gmail.com
  author_url: https://blogs.apache.org/openmeetings/entry/apache_openmeetings_2_0_incubating
  date: '2019-07-21 07:46:48 -0400'
  content: mind blowing lettering, love it! epic men love the colors hmmmmm thumbs
    up!!
- id: 0
  author: judsicktiro1982
  author_email: ahjopamho1979@gmail.com
  author_url: https://blogs.apache.org/click/entry/clickide_2_2_0_0
  date: '2019-07-21 08:18:27 -0400'
  content: Good job !! Top work!
- id: 0
  author: agylotin1985
  author_email: dustchronunde1982@gmail.com
  author_url: https://blogs.apache.org/logging/entry/remko_popma_joined_the_apache
  date: '2019-07-21 08:50:53 -0400'
  content: Nice pictures. Beautiful project. Congrats! Great job, congrats!
- id: 0
  author: quetiolera1982
  author_email: wrapmeaddulo1976@gmail.com
  author_url: https://blogs.apache.org/openmeetings/entry/google_summer_of_code_2012
  date: '2019-07-21 09:24:03 -0400'
  content: Belle typo ! Fantastic job! Love the slight Art Deco vibe. (btw-I'm the
    designer that designed the original TCM logotype back in 1990 working at CSA in
    Minneapolis).
- id: 0
  author: hearthgadete1987
  author_email: smarexlleman1978@gmail.com
  author_url: https://blogs.apache.org/aries/entry/hello_world
  date: '2019-07-21 09:56:49 -0400'
  content: 中国文化 博大精深 Very NICE!
- id: 0
  author: takkarton
  author_email: majidtaelena13@gmail.com
  author_url: http://tak-karton.ir/%da%a9%d8%a7%d8%b1%d8%aa%d9%86-%d8%b2%d9%88%d9%86%da%a9%d9%86-%d9%88-%d8%a8%d8%b3%d8%aa%d9%87-%d8%a8%d9%86%d8%af%db%8c-%da%a9%d8%a7%d8%b1%d8%aa%d9%86-%d8%b2%d9%88%d9%86%da%a9%d9%86-6%d8%b9%d8%af%d8%af/
  date: '2019-08-04 08:14:44 -0400'
  content: beautiful
- id: 0
  author: ''
  author_email: timoyiwibo@simplebox.email
  author_url: https://autoexpertguides.com/best-car-amplifier/
  date: '2019-08-06 06:56:22 -0400'
  content: Photos are simply gorgeous, looked with great pleasure. Guys, I also want
    to advise you a very good sai, where I found a car amplifier, from which I go
    crazy and many more useful things https://autoexpertguides.com/best-car-amplifier/.
- id: 0
  author: CIP Compliance
  author_email: force5soltns@gmail.com
  author_url: https://www.force5solutions.com/
  date: '2019-09-13 16:39:19 -0400'
  content: Thanks for this write up! Also, for those who have not, check out the release
    notes on Kafka 2.3. Good Stuff.
- id: 0
  author: EMDJ1979
  author_email: emdj@gmail.com
  author_url: http://www.eventmastersdjservice.com
  date: '2019-09-19 16:54:08 -0400'
  content: 'I''m trying to keep better track of updates and their features; thank
    you for making this changelog easy to understand. Great article! Hope more people
    get to read this. Check out http://www.eventmastersdjservice.com for a real champion
    of music. '
- id: 0
  author: Eddie
  author_email: eddie@gmail.com
  author_url: https://www.allentowntaxi.com/bethlehem-taxi.html
  date: '2019-11-11 21:09:28 -0500'
  content: I agree with Terry. Trying my best to keep up with the updates/upgrades
    here. Love the content on this blog. https://www.allentowntaxi.com/bethlehem-taxi.html
- id: 0
  author: George
  author_email: treeservicealtoona@gmail.com
  author_url: https://www.treeservicealtoona.com/
  date: '2019-11-13 22:17:11 -0500'
  content: The Kafka release was essential for me and how I operate at https://www.treeservicealtoona.com/
    and https://www.treeservicealtoona.com/tree-service-johnstown-pa.html
- id: 0
  author: Dude
  author_email: removaloxford@gmail.com
  author_url: ''
  date: '2019-11-26 00:21:05 -0500'
  content: "You can control connectors directly from within SQL, and can do real-time
    lookups against the tables you are materializing in your stream processing queries.
    \r\n \r\nhttps://www.removaloxford.co.uk  and https://www.removaltelford.co.uk"
- id: 0
  author: Richard
  author_email: myroofingnewcastle@gmail.com
  author_url: ''
  date: '2019-11-26 00:24:37 -0500'
  content: "What does the future of open source software look like? \r\n \r\nhttps://www.myroofingnewcastle.co.uk"
- id: 2
  author: Mandy R
  author_email: cleaningcarpetyork@gmail.com
  author_url: ''
  date: '2019-11-26 00:17:57 -0500'
  content: "Can you shed a bit of light on how are cloud data systems changing the
    business landscape?\r\n\r\nhttps://www.cleaningcarpetcambridge.co.uk and https://www.cleaningcarpetyork.co.uk"
- id: 4
  author: holtatame1989
  author_email: volsuppgitac1988@gmail.com
  author_url: https://blogs.apache.org/comdev/entry/new-apache-mailing-list-for
  date: '2019-07-21 10:29:27 -0400'
  content: Thanks fantastic posters! love these
- id: 6
  author: logpowirin1970
  author_email: ragelomof1980@gmail.com
  author_url: https://blogs.apache.org/nifi/entry/basic_dataflow_design
  date: '2019-07-21 03:19:09 -0400'
  content: Impressionnant comme une id&eacute;e simple et un bon code couleur peuvent
    devenir redoutables. Bravo, un travail qu'on aimerait avoir sign&eacute; ! Architectural
    masterpiece ✨✨✨
- id: 7
  author: 'tree trimming   '
  author_email: ronaldlynch1009@gmail.com
  author_url: https://treeservicesilverspring.com/
  date: '2019-06-28 13:09:40 -0400'
  content: Thanks for the information on this. I really enjoy the write up.
- id: 7
  author: inlitafin1985
  author_email: siotanaran1977@gmail.com
  author_url: https://blogs.apache.org/couchdb/entry/couchdb_conf_is_next_week
  date: '2019-07-21 07:14:20 -0400'
  content: wow nice work Seu estilo de arte &eacute; muito bom, parab&eacute;ns!
- id: 7
  author: Terry Lewis
  author_email: towingcarlisle@gmail.com
  author_url: http://www.carlisletowing.com/24-hour-towing.html
  date: '2019-11-10 20:10:25 -0500'
  content: "I am trying my best to keep up with all of the different updates that
    have happened.\r\n\r\nAt least I can always reference this blog to keep myself
    and https://www.carlisletowing.com/24-hour-towing.html up to date with the changes
    and upgrades. "
- id: 13
  author: Trevor Jones
  author_email: nottinghamdriveway@gmail.com
  author_url: http://www.nottinghamdriveway.co.uk
  date: '2019-07-08 18:59:54 -0400'
  content: Good information and very helpful
- id: 47
  author: TULISTOTO
  author_email: tulistotocom@gmail.com
  author_url: http://www.tototulis.info/
  date: '2019-07-08 00:03:10 -0400'
  content: This is a very good article, i like it very much and allow me to continue
    to follow. And visit my site too <a href="https://bit.ly/2CD83iY">Perisakti Prediksi
    Togel dan Bola Paling Jitu</a> thanks you bruhh.
- id: 66
  author: selongbalpu1979
  author_email: tioqintaamet1989@gmail.com
  author_url: https://blogs.apache.org/openejb/entry/lookups_into_the_openejb_namespace
  date: '2019-07-20 20:01:36 -0400'
  content: It&acute;s simply amazing!!! perfect work!
- id: 74
  author: etcuntaba1986
  author_email: lascuweper1970@gmail.com
  author_url: https://blogs.apache.org/openejb/entry/apache_openejb_get_together_tours
  date: '2019-07-21 11:02:30 -0400'
  content: 太帅了，我哭了。 simple and beautiful.
- id: 929
  author: My Wifiext Local
  author_email: extendermywifi@gmail.com
  author_url: https://mywifiextnets.net/
  date: '2019-06-28 12:11:25 -0400'
  content: this is really amazing to know. I really appreciate your efforts.
- id: 939
  author: see post
  author_email: jhonwhat@yahoo.com
  author_url: https://healthyphattliving.com/
  date: '2019-09-20 05:05:34 -0400'
  content: This website has a good article and alot of content.thanks alot god blessed.
- id: 60084
  author: saspaqpbevi1980
  author_email: latroconlist1973@gmail.com
  author_url: https://blogs.apache.org/nifi/entry/record-oriented-data-with-nifi
  date: '2019-07-21 00:29:44 -0400'
  content: Get confused about the forms So elegant! Love it so much
- id: 61789
  author: trenadixrod1979
  author_email: revwisonto1974@gmail.com
  author_url: https://blogs.apache.org/sdp/entry/apache_sentry_1_6_0
  date: '2019-07-20 18:27:06 -0400'
  content: 超赞 WOW! amazing work!
- id: 86961
  author: Arlo Camera
  author_email: cameraarlo01@gmail.com
  author_url: https://arlologin.org/
  date: '2019-07-09 05:38:57 -0400'
  content: "if you have an arlo camera and you want to update your arlo camera features
    then visit this website to know more about arlo camera:- <a href=\"https://arlologin.org/\">
    Arlo Netgear </a>\r\n"
- id: 704149
  author: imosbafa1978
  author_email: dicatlisag1985@gmail.com
  author_url: https://blogs.apache.org/logging/entry/welcome_remko_popma
  date: '2019-07-20 16:55:38 -0400'
  content: You nailed the concept. Old fashioned, high quality. i remember i had a
    similar photoshoot in Malta back in 2014 or so. it was very interesting just to
    sit on a bench in the middle of the night with a camera put on the rock right
    next to it waiting 30 seconds for the shutter to close as the passers by were
    looking at me very strangely. unfortunately, back then I was still a beginner
    so the majority of the images didn't turn out to be good, but this project reminded
    me of that fun photoshoot i had just for the sake of art. thank you. loved the
    car lights captured with long exposure the most. it really looks awesome!
- id: 5494308
  author: James Barker
  author_email: nottshouseclearance@gmail.com
  author_url: https://www.nottshouseclearance.co.uk/
  date: '2019-07-08 19:01:27 -0400'
  content: A lot to take in but slowly digesting to get the full affect
permalink: kafka/entry/what-s-new-in-apache
---
<p>It&rsquo;s official: Apache Kafka&reg; 2.3 has been released!  Here is a selection of some of the most interesting and important features we added in the new release.
<p/>
<p><b>Core Kafka</b>
<p/>
<b>KIP-351 and KIP-427: Improved monitoring for partitions which have lost replicas</b><br/><br />
In order to keep your data safe, Kafka creates several replicas of it on different brokers. Kafka will not allow writes to proceed unless the partition has a minimum number of in-sync replicas.  This is called the &ldquo;minimum ISR.&rdquo;
<p/>
<p>Kafka already had metrics showing the partitions that had fewer than the minimum number of in-sync replicas. In this release, KIP-427 adds additional metrics showing partitions that have exactly the minimum number of in-sync replicas. By monitoring these metrics, users can see partitions that are on the verge of becoming under-replicated.
<p/>
<p>Additionally, KIP-351 adds the --under-min-isr command line flag to the kafka-topics command.  This allows users to easily see which topics have fewer than the minimum number of in-sync replicas.
<p/>
<p><b>KIP-354: Add a Maximum Log Compaction Lag</b><br/><br />
To a first-order approximation, previous values of a key in a compacted topic get compacted some time after the latest key is written. Only the most recent value is available, and previous values are not. However, it has always been possible to set the minimum amount of time a key would stick around before being compacted, so we don&rsquo;t lose the old value too quickly. Now, with KIP-354, it&rsquo;s possible to set the maximum amount of time an old value will stick around. The new parameter max.log.compaction.time.ms specifies how long an old value may possibly live   in a compacted topic. This can be used in complying with data retention regulations  such as the GDPR.
<p/>
<p><b>KIP-402: Improve fairness in SocketServer processors</b><br/><br />
Previously, Kafka  would prioritize opening new TCP connections over handling existing connections. This could cause problems if clients attempted to create many new connections within a short time period.KIP-402 prioritizes existing connections over new ones, which improves the broker&rsquo;s resilience to connection storms. The KIP also adds a max.connections per broker setting.
<p/>
<p><b>KIP-461: Improve failure handling in the Replica Fetcher</b><br/><br />
In order to keep replicas up to date, each broker maintains a pool of replica fetcher threads. Each thread in the pool is responsible for fetching replicas for some number of follower partitions. Previously, if one of those partitions failed, the whole thread would fail with it, causing under-replication on potentially hundreds of partitions. With this KIP, if  a single partition managed by a given replica fetcher thread fails, the thread continues handling  the remainder of its partitions.
<p/>
<p><b>KAFKA-7283: Reduce the amount of time the broker spends scanning log files when starting up</b><br/><br />
When the broker starts up after an unclean shutdown, it checks the logs to make sure they have not been corrupted.  This JIRA optimizes that process so that Kafka only checks log segments that haven't been explicitly flushed to disk.  Now, the time required for log recovery is no longer proportional to the number of logs.  Instead, it is proportional to the number of unflushed log segments.  Some of the benchmarks which Zhanxiang Huang <a href="https://issues.apache.org/jira/browse/KAFKA-7283">discusses on the JIRA</a> show up to a 50% reduction in broker startup time.
<p/>
<p><b>Kafka Connect</b>
<p/>
<b>KIP-415: Incremental Cooperative Rebalancing in Kafka Connect</b><br/><br />
In Kafka Connect, worker tasks are distributed among the available worker nodes. When a connector is reconfigured or a new connector is deployed-- as well as when a worker is added or removed-- the tasks must be rebalanced across the Connect cluster.  This helps ensure that all of the worker nodes are doing a fair share of the Connect work. In 2.2 and earlier, a Connect rebalance caused all worker threads to pause while the rebalance proceeded. As of KIP-415, rebalancing is no longer a stop-the-world affair, making configuration changes a more pleasant thing.
<p/>
<p><b>KIP-449: Add connector contexts to Connect worker logs</b><br/><br />
A running Connect cluster contains several different thread pools. Each of these threads emits its own logging, as one might expect. However, this makes it difficult to untangle the sequence of events involved in a single logical operation, since the parts of that operation are running asynchronously in their various threads across the cluster. This KIP adds some context to each Connect log message, making it much easier to make sense of the state of a single connector over time.
<p/>
<p>Take a look at <a href="https://www.confluent.io/blog/kafka-connect-improvements-in-apache-kafka-2-3">Robin Moffatt&rsquo;s blog post.</a>
<p/>
<b>KIP-258: Allow Users to Store Record Times=tamps in RocksDB</b><br/><br />
Prior to this KIP, message timestamps were not stored in the Streams state store.  Only the key and value were there. With t=his KIP, timestamps are now included in the state store. This KIP lays the groundwork to enable future features like handling out-of-order messages in KTables and implementing TTLs for KTables.
<p/>
<p><b>KIP-428: Add in-memory window store / KIP-445: Add in-memory Session Store</b><br/><br />
These KIPs add in-memory implementations for the Kafka Streams window store and session store.<br />
 Previously, the only component with an in-memory implementation was the state store.  The in-memory implementations provide higher performance, in exchange for lack of persistence to disk.  In many cases, this can be a very good tradeoff.
<p/>
<p><b>KIP-313: Add KStream.flatTransform and KStream.flatTransformValues</b><br/><br />
The first half of this KIP, the flatTransform() method, was delivered in Kafka 2.2. The flatTransform() method is very similar to flatMap(), in that it takes a single input record and produces one or more output records. flatMap() does this in a type-safe way but without access to the ProcessorContext and the state store. We&rsquo;ve been able to use the Processor API to perform this same kind of operation with access to the ProcessorContext and the state store, but without the type safety of flatMap(). flatTransform() gave us the best of both worlds: processor   API access, plus compile-time type checking.
<p/>
<p>flatTransformValues(), just introduced in the completed KIP-313 in Kafka 2.3, is to flatTransform() as flatMapValues() is to flatMap().  It lets us do processor-API-aware computations that return multiple records for each input record without changing the message key and causing a repartition.
<p/>
<p><b>Conclusion</b>
<p/>
Thanks for reading!  Check out the <a href="https://www.apache.org/dist/kafka/2.3.0/RELEASE_NOTES.html">release notes</a> for more details about all the great stuff in Kafka 2.3.  Also, check out this <a href="https://www.youtube.com/watch?v=sNqwJT2WguQ">YouTube video on the highlights of the release!</a></p>
